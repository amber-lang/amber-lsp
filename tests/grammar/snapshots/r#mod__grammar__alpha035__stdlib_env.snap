---
source: tests/grammar/alpha035.rs
expression: parse_unwrap(&tokenize(&stdlib))
---
[
    (
        Import(
            (
                false,
                0..6,
            ),
            (
                "import",
                0..6,
            ),
            (
                ImportAll,
                7..8,
            ),
            (
                "from",
                9..13,
            ),
            (
                "std/fs",
                14..22,
            ),
        ),
        0..22,
    ),
    (
        Import(
            (
                false,
                23..22,
            ),
            (
                "import",
                23..29,
            ),
            (
                ImportAll,
                30..31,
            ),
            (
                "from",
                32..36,
            ),
            (
                "std/text",
                37..47,
            ),
        ),
        23..47,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Retrieves the value of an environment variable, optionally sourcing it from a file if not already set.",
                        ),
                        49..156,
                    ),
                ),
                49..156,
            ),
        ),
        49..156,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                156..159,
            ),
            (
                "fun",
                160..163,
            ),
            (
                "get_env_var",
                164..175,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            176..176,
                        ),
                        (
                            "var",
                            176..179,
                        ),
                        (
                            Text,
                            181..185,
                        ),
                    ),
                    176..185,
                ),
                (
                    Optional(
                        (
                            false,
                            187..186,
                        ),
                        (
                            "file",
                            187..191,
                        ),
                        Some(
                            (
                                Text,
                                193..197,
                            ),
                        ),
                        (
                            Text(
                                [
                                    (
                                        Text(
                                            (
                                                ".",
                                                201..202,
                                            ),
                                        ),
                                        201..202,
                                    ),
                                    (
                                        Text(
                                            (
                                                "env",
                                                202..205,
                                            ),
                                        ),
                                        202..205,
                                    ),
                                ],
                            ),
                            200..206,
                        ),
                    ),
                    187..206,
                ),
            ],
            Some(
                (
                    Text,
                    209..213,
                ),
            ),
            [
                (
                    VariableInit(
                        (
                            "let",
                            220..223,
                        ),
                        (
                            "_var",
                            224..228,
                        ),
                        (
                            Expression(
                                (
                                    Command(
                                        [
                                            (
                                                Unsafe,
                                                231..237,
                                            ),
                                        ],
                                        [
                                            (
                                                Text(
                                                    "$",
                                                ),
                                                238..239,
                                            ),
                                            (
                                                Text(
                                                    "echo",
                                                ),
                                                239..243,
                                            ),
                                            (
                                                Text(
                                                    "\"",
                                                ),
                                                244..245,
                                            ),
                                            (
                                                Escape(
                                                    "$",
                                                ),
                                                245..247,
                                            ),
                                            (
                                                Escape(
                                                    "{",
                                                ),
                                                247..249,
                                            ),
                                            (
                                                Text(
                                                    "!",
                                                ),
                                                249..250,
                                            ),
                                            (
                                                Text(
                                                    "var",
                                                ),
                                                250..253,
                                            ),
                                            (
                                                Text(
                                                    "}",
                                                ),
                                                253..254,
                                            ),
                                            (
                                                Text(
                                                    "\"",
                                                ),
                                                254..255,
                                            ),
                                            (
                                                Text(
                                                    "$",
                                                ),
                                                255..256,
                                            ),
                                        ],
                                        None,
                                    ),
                                    231..256,
                                ),
                            ),
                            231..256,
                        ),
                    ),
                    220..256,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            261..263,
                        ),
                        (
                            IfCondition(
                                (
                                    Neq(
                                        (
                                            Var(
                                                (
                                                    "_var",
                                                    264..268,
                                                ),
                                            ),
                                            264..268,
                                        ),
                                        (
                                            Text(
                                                [],
                                            ),
                                            272..274,
                                        ),
                                    ),
                                    264..274,
                                ),
                                (
                                    Block(
                                        [],
                                        [
                                            (
                                                Return(
                                                    (
                                                        "return",
                                                        285..291,
                                                    ),
                                                    Some(
                                                        (
                                                            Var(
                                                                (
                                                                    "_var",
                                                                    292..296,
                                                                ),
                                                            ),
                                                            292..296,
                                                        ),
                                                    ),
                                                ),
                                                285..296,
                                            ),
                                        ],
                                    ),
                                    275..302,
                                ),
                            ),
                            264..302,
                        ),
                        [],
                        None,
                    ),
                    261..302,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            308..310,
                        ),
                        (
                            IfCondition(
                                (
                                    FunctionInvocation(
                                        [],
                                        (
                                            "file_exist",
                                            311..321,
                                        ),
                                        [
                                            (
                                                Var(
                                                    (
                                                        "file",
                                                        322..326,
                                                    ),
                                                ),
                                                322..326,
                                            ),
                                        ],
                                        None,
                                    ),
                                    311..327,
                                ),
                                (
                                    Block(
                                        [],
                                        [
                                            (
                                                Expression(
                                                    (
                                                        Command(
                                                            [
                                                                (
                                                                    Unsafe,
                                                                    338..344,
                                                                ),
                                                            ],
                                                            [
                                                                (
                                                                    Text(
                                                                        "$",
                                                                    ),
                                                                    345..346,
                                                                ),
                                                                (
                                                                    Text(
                                                                        "source",
                                                                    ),
                                                                    346..352,
                                                                ),
                                                                (
                                                                    Text(
                                                                        "\"",
                                                                    ),
                                                                    353..354,
                                                                ),
                                                                (
                                                                    Expression(
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "file",
                                                                                    355..359,
                                                                                ),
                                                                            ),
                                                                            355..359,
                                                                        ),
                                                                    ),
                                                                    354..360,
                                                                ),
                                                                (
                                                                    Text(
                                                                        "\"",
                                                                    ),
                                                                    360..361,
                                                                ),
                                                                (
                                                                    Text(
                                                                        "$",
                                                                    ),
                                                                    361..362,
                                                                ),
                                                            ],
                                                            None,
                                                        ),
                                                        338..362,
                                                    ),
                                                ),
                                                338..362,
                                            ),
                                            (
                                                Return(
                                                    (
                                                        "return",
                                                        371..377,
                                                    ),
                                                    Some(
                                                        (
                                                            Command(
                                                                [
                                                                    (
                                                                        Unsafe,
                                                                        378..384,
                                                                    ),
                                                                ],
                                                                [
                                                                    (
                                                                        Text(
                                                                            "$",
                                                                        ),
                                                                        385..386,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "echo",
                                                                        ),
                                                                        386..390,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "\"",
                                                                        ),
                                                                        391..392,
                                                                    ),
                                                                    (
                                                                        Escape(
                                                                            "$",
                                                                        ),
                                                                        392..394,
                                                                    ),
                                                                    (
                                                                        Escape(
                                                                            "{",
                                                                        ),
                                                                        394..396,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "!",
                                                                        ),
                                                                        396..397,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "var",
                                                                        ),
                                                                        397..400,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "}",
                                                                        ),
                                                                        400..401,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "\"",
                                                                        ),
                                                                        401..402,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "$",
                                                                        ),
                                                                        402..403,
                                                                    ),
                                                                ],
                                                                None,
                                                            ),
                                                            378..403,
                                                        ),
                                                    ),
                                                ),
                                                371..403,
                                            ),
                                        ],
                                    ),
                                    328..409,
                                ),
                            ),
                            311..409,
                        ),
                        [],
                        None,
                    ),
                    308..409,
                ),
                (
                    Return(
                        (
                            "return",
                            415..421,
                        ),
                        Some(
                            (
                                Text(
                                    [],
                                ),
                                422..424,
                            ),
                        ),
                    ),
                    415..424,
                ),
            ],
        ),
        156..426,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Load the env file in the environment, using `xargs`",
                        ),
                        428..484,
                    ),
                ),
                428..484,
            ),
        ),
        428..484,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                484..487,
            ),
            (
                "fun",
                488..491,
            ),
            (
                "load_env_file",
                492..505,
            ),
            [
                (
                    Optional(
                        (
                            false,
                            506..506,
                        ),
                        (
                            "file",
                            506..510,
                        ),
                        Some(
                            (
                                Text,
                                512..516,
                            ),
                        ),
                        (
                            Text(
                                [
                                    (
                                        Text(
                                            (
                                                ".",
                                                520..521,
                                            ),
                                        ),
                                        520..521,
                                    ),
                                    (
                                        Text(
                                            (
                                                "env",
                                                521..524,
                                            ),
                                        ),
                                        521..524,
                                    ),
                                ],
                            ),
                            519..525,
                        ),
                    ),
                    506..525,
                ),
            ],
            Some(
                (
                    Null,
                    528..532,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Unsafe,
                                        539..545,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        546..547,
                                    ),
                                    (
                                        Text(
                                            "export",
                                        ),
                                        547..553,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        554..555,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        555..557,
                                    ),
                                    (
                                        Text(
                                            "(",
                                        ),
                                        557..558,
                                    ),
                                    (
                                        Text(
                                            "xargs",
                                        ),
                                        558..563,
                                    ),
                                    (
                                        Text(
                                            "<",
                                        ),
                                        564..565,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "file",
                                                        567..571,
                                                    ),
                                                ),
                                                567..571,
                                            ),
                                        ),
                                        566..572,
                                    ),
                                    (
                                        Text(
                                            ")",
                                        ),
                                        572..573,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        573..574,
                                    ),
                                    (
                                        Text(
                                            ">",
                                        ),
                                        575..576,
                                    ),
                                    (
                                        Text(
                                            "/",
                                        ),
                                        577..578,
                                    ),
                                    (
                                        Text(
                                            "dev",
                                        ),
                                        578..581,
                                    ),
                                    (
                                        Text(
                                            "/",
                                        ),
                                        581..582,
                                    ),
                                    (
                                        Text(
                                            "null",
                                        ),
                                        582..586,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        586..587,
                                    ),
                                ],
                                None,
                            ),
                            539..587,
                        ),
                    ),
                    539..587,
                ),
            ],
        ),
        484..589,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Check if a variable inside the Shell session exist",
                        ),
                        591..646,
                    ),
                ),
                591..646,
            ),
        ),
        591..646,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                646..649,
            ),
            (
                "fun",
                650..653,
            ),
            (
                "shell_isset",
                654..665,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            666..666,
                        ),
                        (
                            "name",
                            666..670,
                        ),
                        (
                            Text,
                            672..676,
                        ),
                    ),
                    666..676,
                ),
            ],
            Some(
                (
                    Bool,
                    679..683,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        690..691,
                                    ),
                                    (
                                        Text(
                                            "[",
                                        ),
                                        691..692,
                                    ),
                                    (
                                        Text(
                                            "[",
                                        ),
                                        692..693,
                                    ),
                                    (
                                        Text(
                                            "!",
                                        ),
                                        694..695,
                                    ),
                                    (
                                        CommandOption(
                                            "-z",
                                        ),
                                        696..698,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        699..701,
                                    ),
                                    (
                                        Escape(
                                            "{",
                                        ),
                                        701..703,
                                    ),
                                    (
                                        Text(
                                            "!",
                                        ),
                                        703..704,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        705..711,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "name",
                                                                712..716,
                                                            ),
                                                        ),
                                                        712..716,
                                                    ),
                                                ),
                                                712..716,
                                            ),
                                        ),
                                        704..717,
                                    ),
                                    (
                                        Text(
                                            "+",
                                        ),
                                        717..718,
                                    ),
                                    (
                                        Text(
                                            "z",
                                        ),
                                        718..719,
                                    ),
                                    (
                                        Text(
                                            "}",
                                        ),
                                        719..720,
                                    ),
                                    (
                                        Text(
                                            "]",
                                        ),
                                        721..722,
                                    ),
                                    (
                                        Text(
                                            "]",
                                        ),
                                        722..723,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        723..724,
                                    ),
                                ],
                                Some(
                                    (
                                        Handle(
                                            (
                                                "failed",
                                                725..731,
                                            ),
                                            [
                                                (
                                                    Return(
                                                        (
                                                            "return",
                                                            742..748,
                                                        ),
                                                        Some(
                                                            (
                                                                Boolean(
                                                                    (
                                                                        false,
                                                                        749..754,
                                                                    ),
                                                                ),
                                                                749..754,
                                                            ),
                                                        ),
                                                    ),
                                                    742..754,
                                                ),
                                            ],
                                        ),
                                        725..760,
                                    ),
                                ),
                            ),
                            690..760,
                        ),
                    ),
                    690..760,
                ),
                (
                    Return(
                        (
                            "return",
                            765..771,
                        ),
                        Some(
                            (
                                Boolean(
                                    (
                                        true,
                                        772..776,
                                    ),
                                ),
                                772..776,
                            ),
                        ),
                    ),
                    765..776,
                ),
            ],
        ),
        646..778,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Set a constant inside the Shell session",
                        ),
                        780..824,
                    ),
                ),
                780..824,
            ),
        ),
        780..824,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                824..827,
            ),
            (
                "fun",
                828..831,
            ),
            (
                "shell_constant_set",
                832..850,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            851..851,
                        ),
                        (
                            "name",
                            851..855,
                        ),
                        (
                            Text,
                            857..861,
                        ),
                    ),
                    851..861,
                ),
                (
                    Typed(
                        (
                            false,
                            863..862,
                        ),
                        (
                            "val",
                            863..866,
                        ),
                        (
                            Text,
                            868..872,
                        ),
                    ),
                    863..872,
                ),
            ],
            Some(
                (
                    Null?,
                    875..880,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        887..888,
                                    ),
                                    (
                                        Text(
                                            "readonly",
                                        ),
                                        888..896,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        897..899,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        900..906,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "name",
                                                                907..911,
                                                            ),
                                                        ),
                                                        907..911,
                                                    ),
                                                ),
                                                907..911,
                                            ),
                                        ),
                                        899..912,
                                    ),
                                    (
                                        Text(
                                            "=",
                                        ),
                                        912..913,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        913..914,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        914..916,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        917..923,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "val",
                                                                924..927,
                                                            ),
                                                        ),
                                                        924..927,
                                                    ),
                                                ),
                                                924..927,
                                            ),
                                        ),
                                        916..928,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        928..929,
                                    ),
                                    (
                                        Text(
                                            "2",
                                        ),
                                        930..931,
                                    ),
                                    (
                                        Text(
                                            ">",
                                        ),
                                        931..932,
                                    ),
                                    (
                                        Text(
                                            "/",
                                        ),
                                        933..934,
                                    ),
                                    (
                                        Text(
                                            "dev",
                                        ),
                                        934..937,
                                    ),
                                    (
                                        Text(
                                            "/",
                                        ),
                                        937..938,
                                    ),
                                    (
                                        Text(
                                            "null",
                                        ),
                                        938..942,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        942..943,
                                    ),
                                ],
                                Some(
                                    (
                                        Propagate,
                                        943..944,
                                    ),
                                ),
                            ),
                            887..944,
                        ),
                    ),
                    887..944,
                ),
            ],
        ),
        824..946,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Get a constant inside the Shell session",
                        ),
                        948..992,
                    ),
                ),
                948..992,
            ),
        ),
        948..992,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                992..995,
            ),
            (
                "fun",
                996..999,
            ),
            (
                "shell_constant_get",
                1000..1018,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1019..1019,
                        ),
                        (
                            "name",
                            1019..1023,
                        ),
                        (
                            Text,
                            1025..1029,
                        ),
                    ),
                    1019..1029,
                ),
            ],
            Some(
                (
                    Text?,
                    1032..1037,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            1044..1050,
                        ),
                        Some(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1051..1052,
                                        ),
                                        (
                                            Text(
                                                "echo",
                                            ),
                                            1052..1056,
                                        ),
                                        (
                                            Escape(
                                                "$",
                                            ),
                                            1057..1059,
                                        ),
                                        (
                                            Escape(
                                                "{",
                                            ),
                                            1059..1061,
                                        ),
                                        (
                                            Text(
                                                "!",
                                            ),
                                            1061..1062,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Nameof(
                                                        (
                                                            "nameof",
                                                            1063..1069,
                                                        ),
                                                        (
                                                            Var(
                                                                (
                                                                    "name",
                                                                    1070..1074,
                                                                ),
                                                            ),
                                                            1070..1074,
                                                        ),
                                                    ),
                                                    1070..1074,
                                                ),
                                            ),
                                            1062..1075,
                                        ),
                                        (
                                            Text(
                                                "}",
                                            ),
                                            1075..1076,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1076..1077,
                                        ),
                                    ],
                                    Some(
                                        (
                                            Propagate,
                                            1077..1078,
                                        ),
                                    ),
                                ),
                                1051..1078,
                            ),
                        ),
                    ),
                    1044..1078,
                ),
            ],
        ),
        992..1080,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Set a constant inside the Shell session",
                        ),
                        1082..1126,
                    ),
                ),
                1082..1126,
            ),
        ),
        1082..1126,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1126..1129,
            ),
            (
                "fun",
                1130..1133,
            ),
            (
                "shell_var_set",
                1134..1147,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1148..1148,
                        ),
                        (
                            "name",
                            1148..1152,
                        ),
                        (
                            Text,
                            1154..1158,
                        ),
                    ),
                    1148..1158,
                ),
                (
                    Typed(
                        (
                            false,
                            1160..1159,
                        ),
                        (
                            "val",
                            1160..1163,
                        ),
                        (
                            Text,
                            1165..1169,
                        ),
                    ),
                    1160..1169,
                ),
            ],
            Some(
                (
                    Null?,
                    1172..1177,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1184..1185,
                                    ),
                                    (
                                        Text(
                                            "export",
                                        ),
                                        1185..1191,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        1192..1194,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        1195..1201,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "name",
                                                                1202..1206,
                                                            ),
                                                        ),
                                                        1202..1206,
                                                    ),
                                                ),
                                                1202..1206,
                                            ),
                                        ),
                                        1194..1207,
                                    ),
                                    (
                                        Text(
                                            "=",
                                        ),
                                        1207..1208,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        1208..1209,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        1209..1211,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        1212..1218,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "val",
                                                                1219..1222,
                                                            ),
                                                        ),
                                                        1219..1222,
                                                    ),
                                                ),
                                                1219..1222,
                                            ),
                                        ),
                                        1211..1223,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        1223..1224,
                                    ),
                                    (
                                        Text(
                                            "2",
                                        ),
                                        1225..1226,
                                    ),
                                    (
                                        Text(
                                            ">",
                                        ),
                                        1226..1227,
                                    ),
                                    (
                                        Text(
                                            "/",
                                        ),
                                        1228..1229,
                                    ),
                                    (
                                        Text(
                                            "dev",
                                        ),
                                        1229..1232,
                                    ),
                                    (
                                        Text(
                                            "/",
                                        ),
                                        1232..1233,
                                    ),
                                    (
                                        Text(
                                            "null",
                                        ),
                                        1233..1237,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1237..1238,
                                    ),
                                ],
                                Some(
                                    (
                                        Propagate,
                                        1238..1239,
                                    ),
                                ),
                            ),
                            1184..1239,
                        ),
                    ),
                    1184..1239,
                ),
            ],
        ),
        1126..1241,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Get a constant inside the Shell session",
                        ),
                        1243..1287,
                    ),
                ),
                1243..1287,
            ),
        ),
        1243..1287,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1287..1290,
            ),
            (
                "fun",
                1291..1294,
            ),
            (
                "shell_var_get",
                1295..1308,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1309..1309,
                        ),
                        (
                            "name",
                            1309..1313,
                        ),
                        (
                            Text,
                            1315..1319,
                        ),
                    ),
                    1309..1319,
                ),
            ],
            Some(
                (
                    Text?,
                    1322..1327,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            1334..1340,
                        ),
                        Some(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1341..1342,
                                        ),
                                        (
                                            Text(
                                                "echo",
                                            ),
                                            1342..1346,
                                        ),
                                        (
                                            Escape(
                                                "$",
                                            ),
                                            1347..1349,
                                        ),
                                        (
                                            Escape(
                                                "{",
                                            ),
                                            1349..1351,
                                        ),
                                        (
                                            Text(
                                                "!",
                                            ),
                                            1351..1352,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Nameof(
                                                        (
                                                            "nameof",
                                                            1353..1359,
                                                        ),
                                                        (
                                                            Var(
                                                                (
                                                                    "name",
                                                                    1360..1364,
                                                                ),
                                                            ),
                                                            1360..1364,
                                                        ),
                                                    ),
                                                    1360..1364,
                                                ),
                                            ),
                                            1352..1365,
                                        ),
                                        (
                                            Text(
                                                "}",
                                            ),
                                            1365..1366,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1366..1367,
                                        ),
                                    ],
                                    Some(
                                        (
                                            Propagate,
                                            1367..1368,
                                        ),
                                    ),
                                ),
                                1341..1368,
                            ),
                        ),
                    ),
                    1334..1368,
                ),
            ],
        ),
        1287..1370,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Remove a variable inside the Shell session",
                        ),
                        1372..1419,
                    ),
                ),
                1372..1419,
            ),
        ),
        1372..1419,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1419..1422,
            ),
            (
                "fun",
                1423..1426,
            ),
            (
                "shell_unset",
                1427..1438,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1439..1439,
                        ),
                        (
                            "name",
                            1439..1443,
                        ),
                        (
                            Text,
                            1445..1449,
                        ),
                    ),
                    1439..1449,
                ),
            ],
            Some(
                (
                    Null?,
                    1452..1457,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1464..1465,
                                    ),
                                    (
                                        Text(
                                            "unset",
                                        ),
                                        1465..1470,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "name",
                                                        1472..1476,
                                                    ),
                                                ),
                                                1472..1476,
                                            ),
                                        ),
                                        1471..1477,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1477..1478,
                                    ),
                                ],
                                Some(
                                    (
                                        Propagate,
                                        1478..1479,
                                    ),
                                ),
                            ),
                            1464..1479,
                        ),
                    ),
                    1464..1479,
                ),
            ],
        ),
        1419..1481,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Check if the command exist",
                        ),
                        1483..1514,
                    ),
                ),
                1483..1514,
            ),
        ),
        1483..1514,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1514..1517,
            ),
            (
                "fun",
                1518..1521,
            ),
            (
                "is_command",
                1522..1532,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1533..1533,
                        ),
                        (
                            "command",
                            1533..1540,
                        ),
                        (
                            Text,
                            1542..1546,
                        ),
                    ),
                    1533..1546,
                ),
            ],
            Some(
                (
                    Bool,
                    1549..1553,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1560..1561,
                                    ),
                                    (
                                        Text(
                                            "[",
                                        ),
                                        1561..1562,
                                    ),
                                    (
                                        CommandOption(
                                            "-x",
                                        ),
                                        1563..1565,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        1566..1567,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        1567..1569,
                                    ),
                                    (
                                        Text(
                                            "(",
                                        ),
                                        1569..1570,
                                    ),
                                    (
                                        Text(
                                            "command",
                                        ),
                                        1570..1577,
                                    ),
                                    (
                                        CommandOption(
                                            "-v",
                                        ),
                                        1578..1580,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "command",
                                                        1582..1589,
                                                    ),
                                                ),
                                                1582..1589,
                                            ),
                                        ),
                                        1581..1590,
                                    ),
                                    (
                                        Text(
                                            ")",
                                        ),
                                        1590..1591,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        1591..1592,
                                    ),
                                    (
                                        Text(
                                            "]",
                                        ),
                                        1593..1594,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1594..1595,
                                    ),
                                ],
                                Some(
                                    (
                                        Handle(
                                            (
                                                "failed",
                                                1596..1602,
                                            ),
                                            [
                                                (
                                                    Return(
                                                        (
                                                            "return",
                                                            1613..1619,
                                                        ),
                                                        Some(
                                                            (
                                                                Boolean(
                                                                    (
                                                                        false,
                                                                        1620..1625,
                                                                    ),
                                                                ),
                                                                1620..1625,
                                                            ),
                                                        ),
                                                    ),
                                                    1613..1625,
                                                ),
                                            ],
                                        ),
                                        1596..1631,
                                    ),
                                ),
                            ),
                            1560..1631,
                        ),
                    ),
                    1560..1631,
                ),
                (
                    Return(
                        (
                            "return",
                            1636..1642,
                        ),
                        Some(
                            (
                                Boolean(
                                    (
                                        true,
                                        1643..1647,
                                    ),
                                ),
                                1643..1647,
                            ),
                        ),
                    ),
                    1636..1647,
                ),
            ],
        ),
        1514..1649,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Create a prompt and return the value",
                        ),
                        1651..1692,
                    ),
                ),
                1651..1692,
            ),
        ),
        1651..1692,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1692..1695,
            ),
            (
                "fun",
                1696..1699,
            ),
            (
                "input",
                1700..1705,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1706..1706,
                        ),
                        (
                            "prompt",
                            1706..1712,
                        ),
                        (
                            Text,
                            1714..1718,
                        ),
                    ),
                    1706..1718,
                ),
            ],
            Some(
                (
                    Text,
                    1721..1725,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Unsafe,
                                        1732..1738,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1739..1740,
                                    ),
                                    (
                                        Text(
                                            "printf",
                                        ),
                                        1740..1746,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        1747..1748,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        1748..1750,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        1751..1757,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "prompt",
                                                                1758..1764,
                                                            ),
                                                        ),
                                                        1758..1764,
                                                    ),
                                                ),
                                                1758..1764,
                                            ),
                                        ),
                                        1750..1765,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        1765..1766,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1766..1767,
                                    ),
                                ],
                                None,
                            ),
                            1732..1767,
                        ),
                    ),
                    1732..1767,
                ),
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Unsafe,
                                        1772..1778,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1779..1780,
                                    ),
                                    (
                                        Text(
                                            "read",
                                        ),
                                        1780..1784,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1784..1785,
                                    ),
                                ],
                                None,
                            ),
                            1772..1785,
                        ),
                    ),
                    1772..1785,
                ),
                (
                    Return(
                        (
                            "return",
                            1790..1796,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Escape(
                                                (
                                                    "$",
                                                    1798..1800,
                                                ),
                                            ),
                                            1798..1800,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "REPLY",
                                                    1800..1805,
                                                ),
                                            ),
                                            1800..1805,
                                        ),
                                    ],
                                ),
                                1797..1806,
                            ),
                        ),
                    ),
                    1790..1806,
                ),
            ],
        ),
        1692..1808,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Confirm prompt (Yes/No), return true if choice is Yes",
                        ),
                        1810..1868,
                    ),
                ),
                1810..1868,
            ),
        ),
        1810..1868,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "\"No\" is the default choice, set default_yes to true for \"Yes\" as default choice",
                        ),
                        1868..1952,
                    ),
                ),
                1868..1952,
            ),
        ),
        1868..1952,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1952..1955,
            ),
            (
                "fun",
                1956..1959,
            ),
            (
                "confirm",
                1960..1967,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1968..1968,
                        ),
                        (
                            "prompt",
                            1968..1974,
                        ),
                        (
                            Text,
                            1976..1980,
                        ),
                    ),
                    1968..1980,
                ),
                (
                    Optional(
                        (
                            false,
                            1982..1981,
                        ),
                        (
                            "default_yes",
                            1982..1993,
                        ),
                        Some(
                            (
                                Bool,
                                1995..1999,
                            ),
                        ),
                        (
                            Boolean(
                                (
                                    false,
                                    2002..2007,
                                ),
                            ),
                            2002..2007,
                        ),
                    ),
                    1982..2007,
                ),
            ],
            Some(
                (
                    Bool,
                    2010..2014,
                ),
            ),
            [
                (
                    VariableInit(
                        (
                            "let",
                            2021..2024,
                        ),
                        (
                            "choice_default",
                            2025..2039,
                        ),
                        (
                            Expression(
                                (
                                    Ternary(
                                        (
                                            Var(
                                                (
                                                    "default_yes",
                                                    2042..2053,
                                                ),
                                            ),
                                            2042..2053,
                                        ),
                                        (
                                            "then",
                                            2054..2058,
                                        ),
                                        (
                                            Text(
                                                [
                                                    (
                                                        Text(
                                                            (
                                                                "[",
                                                                2061..2062,
                                                            ),
                                                        ),
                                                        2061..2062,
                                                    ),
                                                    (
                                                        Escape(
                                                            (
                                                                "x1b",
                                                                2062..2066,
                                                            ),
                                                        ),
                                                        2062..2066,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "[",
                                                                2066..2067,
                                                            ),
                                                        ),
                                                        2066..2067,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "1mY",
                                                                2067..2070,
                                                            ),
                                                        ),
                                                        2067..2070,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "/",
                                                                2070..2071,
                                                            ),
                                                        ),
                                                        2070..2071,
                                                    ),
                                                    (
                                                        Escape(
                                                            (
                                                                "x1b",
                                                                2071..2075,
                                                            ),
                                                        ),
                                                        2071..2075,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "[",
                                                                2075..2076,
                                                            ),
                                                        ),
                                                        2075..2076,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "0mn",
                                                                2076..2079,
                                                            ),
                                                        ),
                                                        2076..2079,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "]",
                                                                2079..2080,
                                                            ),
                                                        ),
                                                        2079..2080,
                                                    ),
                                                ],
                                            ),
                                            2059..2081,
                                        ),
                                        (
                                            "else",
                                            2082..2086,
                                        ),
                                        (
                                            Text(
                                                [
                                                    (
                                                        Text(
                                                            (
                                                                "[",
                                                                2089..2090,
                                                            ),
                                                        ),
                                                        2089..2090,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "y",
                                                                2090..2091,
                                                            ),
                                                        ),
                                                        2090..2091,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "/",
                                                                2091..2092,
                                                            ),
                                                        ),
                                                        2091..2092,
                                                    ),
                                                    (
                                                        Escape(
                                                            (
                                                                "x1b",
                                                                2092..2096,
                                                            ),
                                                        ),
                                                        2092..2096,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "[",
                                                                2096..2097,
                                                            ),
                                                        ),
                                                        2096..2097,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "1mN",
                                                                2097..2100,
                                                            ),
                                                        ),
                                                        2097..2100,
                                                    ),
                                                    (
                                                        Escape(
                                                            (
                                                                "x1b",
                                                                2100..2104,
                                                            ),
                                                        ),
                                                        2100..2104,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "[",
                                                                2104..2105,
                                                            ),
                                                        ),
                                                        2104..2105,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "0m",
                                                                2105..2107,
                                                            ),
                                                        ),
                                                        2105..2107,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "]",
                                                                2107..2108,
                                                            ),
                                                        ),
                                                        2107..2108,
                                                    ),
                                                ],
                                            ),
                                            2087..2109,
                                        ),
                                    ),
                                    2042..2109,
                                ),
                            ),
                            2042..2109,
                        ),
                    ),
                    2021..2109,
                ),
                (
                    Block(
                        (
                            Block(
                                [
                                    (
                                        Unsafe,
                                        2114..2120,
                                    ),
                                ],
                                [
                                    (
                                        Expression(
                                            (
                                                Command(
                                                    [],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2131..2132,
                                                        ),
                                                        (
                                                            Text(
                                                                "printf",
                                                            ),
                                                            2132..2138,
                                                        ),
                                                        (
                                                            Text(
                                                                "\"",
                                                            ),
                                                            2139..2140,
                                                        ),
                                                        (
                                                            Escape(
                                                                "x1b",
                                                            ),
                                                            2140..2144,
                                                        ),
                                                        (
                                                            Text(
                                                                "[",
                                                            ),
                                                            2144..2145,
                                                        ),
                                                        (
                                                            Text(
                                                                "1m",
                                                            ),
                                                            2145..2147,
                                                        ),
                                                        (
                                                            Expression(
                                                                (
                                                                    Var(
                                                                        (
                                                                            "prompt",
                                                                            2148..2154,
                                                                        ),
                                                                    ),
                                                                    2148..2154,
                                                                ),
                                                            ),
                                                            2147..2155,
                                                        ),
                                                        (
                                                            Escape(
                                                                "x1b",
                                                            ),
                                                            2155..2159,
                                                        ),
                                                        (
                                                            Text(
                                                                "[",
                                                            ),
                                                            2159..2160,
                                                        ),
                                                        (
                                                            Text(
                                                                "0m",
                                                            ),
                                                            2160..2162,
                                                        ),
                                                        (
                                                            Expression(
                                                                (
                                                                    Var(
                                                                        (
                                                                            "choice_default",
                                                                            2163..2177,
                                                                        ),
                                                                    ),
                                                                    2163..2177,
                                                                ),
                                                            ),
                                                            2162..2178,
                                                        ),
                                                        (
                                                            Text(
                                                                "\"",
                                                            ),
                                                            2178..2179,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2179..2180,
                                                        ),
                                                    ],
                                                    None,
                                                ),
                                                2131..2180,
                                            ),
                                        ),
                                        2131..2180,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Command(
                                                    [],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2189..2190,
                                                        ),
                                                        (
                                                            Text(
                                                                "read",
                                                            ),
                                                            2190..2194,
                                                        ),
                                                        (
                                                            CommandOption(
                                                                "-s",
                                                            ),
                                                            2195..2197,
                                                        ),
                                                        (
                                                            CommandOption(
                                                                "-n",
                                                            ),
                                                            2198..2200,
                                                        ),
                                                        (
                                                            Text(
                                                                "1",
                                                            ),
                                                            2201..2202,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2202..2203,
                                                        ),
                                                    ],
                                                    None,
                                                ),
                                                2189..2203,
                                            ),
                                        ),
                                        2189..2203,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Command(
                                                    [],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2212..2213,
                                                        ),
                                                        (
                                                            Text(
                                                                "printf",
                                                            ),
                                                            2213..2219,
                                                        ),
                                                        (
                                                            Text(
                                                                "\"",
                                                            ),
                                                            2220..2221,
                                                        ),
                                                        (
                                                            Escape(
                                                                "n",
                                                            ),
                                                            2221..2223,
                                                        ),
                                                        (
                                                            Text(
                                                                "\"",
                                                            ),
                                                            2223..2224,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2224..2225,
                                                        ),
                                                    ],
                                                    None,
                                                ),
                                                2212..2225,
                                            ),
                                        ),
                                        2212..2225,
                                    ),
                                ],
                            ),
                            2114..2231,
                        ),
                    ),
                    2114..2231,
                ),
                (
                    VariableInit(
                        (
                            "let",
                            2236..2239,
                        ),
                        (
                            "result",
                            2240..2246,
                        ),
                        (
                            Expression(
                                (
                                    FunctionInvocation(
                                        [],
                                        (
                                            "lower",
                                            2249..2254,
                                        ),
                                        [
                                            (
                                                Command(
                                                    [
                                                        (
                                                            Unsafe,
                                                            2255..2261,
                                                        ),
                                                    ],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2262..2263,
                                                        ),
                                                        (
                                                            Text(
                                                                "echo",
                                                            ),
                                                            2263..2267,
                                                        ),
                                                        (
                                                            Escape(
                                                                "$",
                                                            ),
                                                            2268..2270,
                                                        ),
                                                        (
                                                            Text(
                                                                "REPLY",
                                                            ),
                                                            2270..2275,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2275..2276,
                                                        ),
                                                    ],
                                                    None,
                                                ),
                                                2255..2276,
                                            ),
                                        ],
                                        None,
                                    ),
                                    2249..2277,
                                ),
                            ),
                            2249..2277,
                        ),
                    ),
                    2236..2277,
                ),
                (
                    Return(
                        (
                            "return",
                            2282..2288,
                        ),
                        Some(
                            (
                                Or(
                                    (
                                        Eq(
                                            (
                                                Var(
                                                    (
                                                        "result",
                                                        2289..2295,
                                                    ),
                                                ),
                                                2289..2295,
                                            ),
                                            (
                                                Text(
                                                    [
                                                        (
                                                            Text(
                                                                (
                                                                    "y",
                                                                    2300..2301,
                                                                ),
                                                            ),
                                                            2300..2301,
                                                        ),
                                                    ],
                                                ),
                                                2299..2302,
                                            ),
                                        ),
                                        2289..2302,
                                    ),
                                    (
                                        "or",
                                        2303..2305,
                                    ),
                                    (
                                        Parentheses(
                                            (
                                                And(
                                                    (
                                                        Eq(
                                                            (
                                                                Var(
                                                                    (
                                                                        "result",
                                                                        2307..2313,
                                                                    ),
                                                                ),
                                                                2307..2313,
                                                            ),
                                                            (
                                                                Text(
                                                                    [],
                                                                ),
                                                                2317..2319,
                                                            ),
                                                        ),
                                                        2307..2319,
                                                    ),
                                                    (
                                                        "and",
                                                        2320..2323,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "default_yes",
                                                                2324..2335,
                                                            ),
                                                        ),
                                                        2324..2335,
                                                    ),
                                                ),
                                                2307..2335,
                                            ),
                                        ),
                                        2306..2336,
                                    ),
                                ),
                                2289..2336,
                            ),
                        ),
                    ),
                    2282..2336,
                ),
            ],
        ),
        1952..2338,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Checks if the command has failed",
                        ),
                        2340..2377,
                    ),
                ),
                2340..2377,
            ),
        ),
        2340..2377,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2377..2380,
            ),
            (
                "fun",
                2381..2384,
            ),
            (
                "has_failed",
                2385..2395,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            2396..2396,
                        ),
                        (
                            "command",
                            2396..2403,
                        ),
                        (
                            Text,
                            2405..2409,
                        ),
                    ),
                    2396..2409,
                ),
            ],
            Some(
                (
                    Bool,
                    2412..2416,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Unsafe,
                                        2423..2429,
                                    ),
                                    (
                                        Silent,
                                        2430..2436,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2437..2438,
                                    ),
                                    (
                                        Text(
                                            "eval",
                                        ),
                                        2438..2442,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "command",
                                                        2444..2451,
                                                    ),
                                                ),
                                                2444..2451,
                                            ),
                                        ),
                                        2443..2452,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2452..2453,
                                    ),
                                ],
                                None,
                            ),
                            2423..2453,
                        ),
                    ),
                    2423..2453,
                ),
                (
                    Return(
                        (
                            "return",
                            2458..2464,
                        ),
                        Some(
                            (
                                Neq(
                                    (
                                        Status,
                                        2465..2471,
                                    ),
                                    (
                                        Number(
                                            (
                                                0.0,
                                                2475..2476,
                                            ),
                                        ),
                                        2475..2476,
                                    ),
                                ),
                                2465..2476,
                            ),
                        ),
                    ),
                    2458..2476,
                ),
            ],
        ),
        2377..2478,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Close the script",
                        ),
                        2480..2501,
                    ),
                ),
                2480..2501,
            ),
        ),
        2480..2501,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2501..2504,
            ),
            (
                "fun",
                2505..2508,
            ),
            (
                "exit",
                2509..2513,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            2514..2514,
                        ),
                        (
                            "code",
                            2514..2518,
                        ),
                        (
                            Num,
                            2520..2523,
                        ),
                    ),
                    2514..2523,
                ),
            ],
            Some(
                (
                    Null,
                    2526..2530,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Unsafe,
                                        2537..2543,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2544..2545,
                                    ),
                                    (
                                        Text(
                                            "exit",
                                        ),
                                        2545..2549,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        2550..2551,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "code",
                                                        2552..2556,
                                                    ),
                                                ),
                                                2552..2556,
                                            ),
                                        ),
                                        2551..2557,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        2557..2558,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2558..2559,
                                    ),
                                ],
                                None,
                            ),
                            2537..2559,
                        ),
                    ),
                    2537..2559,
                ),
            ],
        ),
        2501..2561,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Check if the script is running with a user with root permission",
                        ),
                        2563..2631,
                    ),
                ),
                2563..2631,
            ),
        ),
        2563..2631,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2631..2634,
            ),
            (
                "fun",
                2635..2638,
            ),
            (
                "is_root",
                2639..2646,
            ),
            [],
            Some(
                (
                    Bool,
                    2650..2654,
                ),
            ),
            [
                (
                    IfCondition(
                        (
                            "if",
                            2661..2663,
                        ),
                        (
                            IfCondition(
                                (
                                    Eq(
                                        (
                                            Command(
                                                [
                                                    (
                                                        Unsafe,
                                                        2664..2670,
                                                    ),
                                                ],
                                                [
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        2671..2672,
                                                    ),
                                                    (
                                                        Text(
                                                            "id",
                                                        ),
                                                        2672..2674,
                                                    ),
                                                    (
                                                        CommandOption(
                                                            "-u",
                                                        ),
                                                        2675..2677,
                                                    ),
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        2677..2678,
                                                    ),
                                                ],
                                                None,
                                            ),
                                            2664..2678,
                                        ),
                                        (
                                            Text(
                                                [
                                                    (
                                                        Text(
                                                            (
                                                                "0",
                                                                2683..2684,
                                                            ),
                                                        ),
                                                        2683..2684,
                                                    ),
                                                ],
                                            ),
                                            2682..2685,
                                        ),
                                    ),
                                    2664..2685,
                                ),
                                (
                                    Block(
                                        [],
                                        [
                                            (
                                                Return(
                                                    (
                                                        "return",
                                                        2696..2702,
                                                    ),
                                                    Some(
                                                        (
                                                            Boolean(
                                                                (
                                                                    true,
                                                                    2703..2707,
                                                                ),
                                                            ),
                                                            2703..2707,
                                                        ),
                                                    ),
                                                ),
                                                2696..2707,
                                            ),
                                        ],
                                    ),
                                    2686..2713,
                                ),
                            ),
                            2664..2713,
                        ),
                        [],
                        None,
                    ),
                    2661..2713,
                ),
                (
                    Return(
                        (
                            "return",
                            2719..2725,
                        ),
                        Some(
                            (
                                Boolean(
                                    (
                                        false,
                                        2726..2731,
                                    ),
                                ),
                                2726..2731,
                            ),
                        ),
                    ),
                    2719..2731,
                ),
            ],
        ),
        2631..2733,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "`printf` the text following the arguments",
                        ),
                        2735..2781,
                    ),
                ),
                2735..2781,
            ),
        ),
        2735..2781,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2781..2784,
            ),
            (
                "fun",
                2785..2788,
            ),
            (
                "printf",
                2789..2795,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            2796..2796,
                        ),
                        (
                            "format",
                            2796..2802,
                        ),
                        (
                            Text,
                            2804..2808,
                        ),
                    ),
                    2796..2808,
                ),
                (
                    Optional(
                        (
                            false,
                            2810..2809,
                        ),
                        (
                            "args",
                            2810..2814,
                        ),
                        Some(
                            (
                                [Text],
                                2816..2822,
                            ),
                        ),
                        (
                            Array(
                                [
                                    (
                                        Text(
                                            [],
                                        ),
                                        2826..2828,
                                    ),
                                ],
                            ),
                            2825..2829,
                        ),
                    ),
                    2810..2829,
                ),
            ],
            Some(
                (
                    Null,
                    2832..2836,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Unsafe,
                                        2843..2849,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2850..2851,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        2852..2858,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "args",
                                                                2859..2863,
                                                            ),
                                                        ),
                                                        2859..2863,
                                                    ),
                                                ),
                                                2859..2863,
                                            ),
                                        ),
                                        2851..2864,
                                    ),
                                    (
                                        Text(
                                            "=",
                                        ),
                                        2864..2865,
                                    ),
                                    (
                                        Text(
                                            "(",
                                        ),
                                        2865..2866,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        2866..2867,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "format",
                                                        2868..2874,
                                                    ),
                                                ),
                                                2868..2874,
                                            ),
                                        ),
                                        2867..2875,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        2875..2876,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        2877..2878,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        2878..2880,
                                    ),
                                    (
                                        Escape(
                                            "{",
                                        ),
                                        2880..2882,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        2883..2889,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "args",
                                                                2890..2894,
                                                            ),
                                                        ),
                                                        2890..2894,
                                                    ),
                                                ),
                                                2890..2894,
                                            ),
                                        ),
                                        2882..2895,
                                    ),
                                    (
                                        Text(
                                            "[",
                                        ),
                                        2895..2896,
                                    ),
                                    (
                                        Text(
                                            "@",
                                        ),
                                        2896..2897,
                                    ),
                                    (
                                        Text(
                                            "]",
                                        ),
                                        2897..2898,
                                    ),
                                    (
                                        Text(
                                            "}",
                                        ),
                                        2898..2899,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        2899..2900,
                                    ),
                                    (
                                        Text(
                                            ")",
                                        ),
                                        2900..2901,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2901..2902,
                                    ),
                                ],
                                None,
                            ),
                            2843..2902,
                        ),
                    ),
                    2843..2902,
                ),
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Unsafe,
                                        2907..2913,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2914..2915,
                                    ),
                                    (
                                        Text(
                                            "printf",
                                        ),
                                        2915..2921,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        2922..2923,
                                    ),
                                    (
                                        Escape(
                                            "$",
                                        ),
                                        2923..2925,
                                    ),
                                    (
                                        Escape(
                                            "{",
                                        ),
                                        2925..2927,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        2928..2934,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "args",
                                                                2935..2939,
                                                            ),
                                                        ),
                                                        2935..2939,
                                                    ),
                                                ),
                                                2935..2939,
                                            ),
                                        ),
                                        2927..2940,
                                    ),
                                    (
                                        Text(
                                            "[",
                                        ),
                                        2940..2941,
                                    ),
                                    (
                                        Text(
                                            "@",
                                        ),
                                        2941..2942,
                                    ),
                                    (
                                        Text(
                                            "]",
                                        ),
                                        2942..2943,
                                    ),
                                    (
                                        Text(
                                            "}",
                                        ),
                                        2943..2944,
                                    ),
                                    (
                                        Text(
                                            "\"",
                                        ),
                                        2944..2945,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2945..2946,
                                    ),
                                ],
                                None,
                            ),
                            2907..2946,
                        ),
                    ),
                    2907..2946,
                ),
            ],
        ),
        2781..2948,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Escape the text to be used with `printf`",
                        ),
                        2950..2995,
                    ),
                ),
                2950..2995,
            ),
        ),
        2950..2995,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2995..2998,
            ),
            (
                "fun",
                2999..3002,
            ),
            (
                "printf_escape",
                3003..3016,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3017..3017,
                        ),
                        (
                            "text",
                            3017..3021,
                        ),
                        (
                            Text,
                            3023..3027,
                        ),
                    ),
                    3017..3027,
                ),
            ],
            Some(
                (
                    Text,
                    3030..3034,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3041..3047,
                        ),
                        Some(
                            (
                                Command(
                                    [
                                        (
                                            Unsafe,
                                            3048..3054,
                                        ),
                                    ],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            3055..3056,
                                        ),
                                        (
                                            Text(
                                                "echo",
                                            ),
                                            3056..3060,
                                        ),
                                        (
                                            Escape(
                                                "$",
                                            ),
                                            3061..3063,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Nameof(
                                                        (
                                                            "nameof",
                                                            3064..3070,
                                                        ),
                                                        (
                                                            Var(
                                                                (
                                                                    "text",
                                                                    3071..3075,
                                                                ),
                                                            ),
                                                            3071..3075,
                                                        ),
                                                    ),
                                                    3071..3075,
                                                ),
                                            ),
                                            3063..3076,
                                        ),
                                        (
                                            Text(
                                                "|",
                                            ),
                                            3077..3078,
                                        ),
                                        (
                                            Text(
                                                "sed",
                                            ),
                                            3079..3082,
                                        ),
                                        (
                                            CommandOption(
                                                "-e",
                                            ),
                                            3083..3085,
                                        ),
                                        (
                                            Text(
                                                "'s",
                                            ),
                                            3086..3088,
                                        ),
                                        (
                                            Text(
                                                "/",
                                            ),
                                            3088..3089,
                                        ),
                                        (
                                            Escape(
                                                "\\",
                                            ),
                                            3089..3091,
                                        ),
                                        (
                                            Escape(
                                                "\\",
                                            ),
                                            3091..3093,
                                        ),
                                        (
                                            Text(
                                                "/",
                                            ),
                                            3093..3094,
                                        ),
                                        (
                                            Escape(
                                                "\\",
                                            ),
                                            3094..3096,
                                        ),
                                        (
                                            Escape(
                                                "\\",
                                            ),
                                            3096..3098,
                                        ),
                                        (
                                            Escape(
                                                "\\",
                                            ),
                                            3098..3100,
                                        ),
                                        (
                                            Escape(
                                                "\\",
                                            ),
                                            3100..3102,
                                        ),
                                        (
                                            Text(
                                                "/",
                                            ),
                                            3102..3103,
                                        ),
                                        (
                                            Text(
                                                "g'",
                                            ),
                                            3103..3105,
                                        ),
                                        (
                                            CommandOption(
                                                "-e",
                                            ),
                                            3106..3108,
                                        ),
                                        (
                                            Text(
                                                "\"",
                                            ),
                                            3109..3110,
                                        ),
                                        (
                                            Text(
                                                "s",
                                            ),
                                            3110..3111,
                                        ),
                                        (
                                            Text(
                                                "/",
                                            ),
                                            3111..3112,
                                        ),
                                        (
                                            Text(
                                                "%",
                                            ),
                                            3112..3113,
                                        ),
                                        (
                                            Text(
                                                "/",
                                            ),
                                            3113..3114,
                                        ),
                                        (
                                            Text(
                                                "%",
                                            ),
                                            3114..3115,
                                        ),
                                        (
                                            Text(
                                                "%",
                                            ),
                                            3115..3116,
                                        ),
                                        (
                                            Text(
                                                "/",
                                            ),
                                            3116..3117,
                                        ),
                                        (
                                            Text(
                                                "g",
                                            ),
                                            3117..3118,
                                        ),
                                        (
                                            Text(
                                                "\"",
                                            ),
                                            3118..3119,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            3119..3120,
                                        ),
                                    ],
                                    None,
                                ),
                                3048..3120,
                            ),
                        ),
                    ),
                    3041..3120,
                ),
            ],
        ),
        2995..3122,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Prepare a text with formatting options for `printf`",
                        ),
                        3124..3180,
                    ),
                ),
                3124..3180,
            ),
        ),
        3124..3180,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3180..3183,
            ),
            (
                "fun",
                3184..3187,
            ),
            (
                "text_shell",
                3188..3198,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3199..3199,
                        ),
                        (
                            "message",
                            3199..3206,
                        ),
                        (
                            Text,
                            3208..3212,
                        ),
                    ),
                    3199..3212,
                ),
                (
                    Typed(
                        (
                            false,
                            3214..3213,
                        ),
                        (
                            "style",
                            3214..3219,
                        ),
                        (
                            Num,
                            3221..3224,
                        ),
                    ),
                    3214..3224,
                ),
                (
                    Typed(
                        (
                            false,
                            3226..3225,
                        ),
                        (
                            "fg",
                            3226..3228,
                        ),
                        (
                            Num,
                            3230..3233,
                        ),
                    ),
                    3226..3233,
                ),
                (
                    Typed(
                        (
                            false,
                            3235..3234,
                        ),
                        (
                            "bg",
                            3235..3237,
                        ),
                        (
                            Num,
                            3239..3242,
                        ),
                    ),
                    3235..3242,
                ),
            ],
            Some(
                (
                    Text,
                    3245..3249,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3256..3262,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Escape(
                                                (
                                                    "x1b",
                                                    3264..3268,
                                                ),
                                            ),
                                            3264..3268,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "[",
                                                    3268..3269,
                                                ),
                                            ),
                                            3268..3269,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Var(
                                                        (
                                                            "style",
                                                            3270..3275,
                                                        ),
                                                    ),
                                                    3270..3275,
                                                ),
                                            ),
                                            3269..3276,
                                        ),
                                        (
                                            Text(
                                                (
                                                    ";",
                                                    3276..3277,
                                                ),
                                            ),
                                            3276..3277,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Var(
                                                        (
                                                            "fg",
                                                            3278..3280,
                                                        ),
                                                    ),
                                                    3278..3280,
                                                ),
                                            ),
                                            3277..3281,
                                        ),
                                        (
                                            Text(
                                                (
                                                    ";",
                                                    3281..3282,
                                                ),
                                            ),
                                            3281..3282,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Var(
                                                        (
                                                            "bg",
                                                            3283..3285,
                                                        ),
                                                    ),
                                                    3283..3285,
                                                ),
                                            ),
                                            3282..3286,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "m",
                                                    3286..3287,
                                                ),
                                            ),
                                            3286..3287,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    FunctionInvocation(
                                                        [],
                                                        (
                                                            "printf_escape",
                                                            3288..3301,
                                                        ),
                                                        [
                                                            (
                                                                Var(
                                                                    (
                                                                        "message",
                                                                        3302..3309,
                                                                    ),
                                                                ),
                                                                3302..3309,
                                                            ),
                                                        ],
                                                        None,
                                                    ),
                                                    3288..3310,
                                                ),
                                            ),
                                            3287..3311,
                                        ),
                                        (
                                            Escape(
                                                (
                                                    "x1b",
                                                    3311..3315,
                                                ),
                                            ),
                                            3311..3315,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "[",
                                                    3315..3316,
                                                ),
                                            ),
                                            3315..3316,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "0m",
                                                    3316..3318,
                                                ),
                                            ),
                                            3316..3318,
                                        ),
                                    ],
                                ),
                                3263..3319,
                            ),
                        ),
                    ),
                    3256..3319,
                ),
            ],
        ),
        3180..3321,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Return a text as bold",
                        ),
                        3323..3349,
                    ),
                ),
                3323..3349,
            ),
        ),
        3323..3349,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3349..3352,
            ),
            (
                "fun",
                3353..3356,
            ),
            (
                "text_bold",
                3357..3366,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3367..3367,
                        ),
                        (
                            "message",
                            3367..3374,
                        ),
                        (
                            Text,
                            3376..3380,
                        ),
                    ),
                    3367..3380,
                ),
            ],
            Some(
                (
                    Text,
                    3383..3387,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3394..3400,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Escape(
                                                (
                                                    "x1b",
                                                    3402..3406,
                                                ),
                                            ),
                                            3402..3406,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "[",
                                                    3406..3407,
                                                ),
                                            ),
                                            3406..3407,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1m",
                                                    3407..3409,
                                                ),
                                            ),
                                            3407..3409,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    FunctionInvocation(
                                                        [],
                                                        (
                                                            "printf_escape",
                                                            3410..3423,
                                                        ),
                                                        [
                                                            (
                                                                Var(
                                                                    (
                                                                        "message",
                                                                        3424..3431,
                                                                    ),
                                                                ),
                                                                3424..3431,
                                                            ),
                                                        ],
                                                        None,
                                                    ),
                                                    3410..3432,
                                                ),
                                            ),
                                            3409..3433,
                                        ),
                                        (
                                            Escape(
                                                (
                                                    "x1b",
                                                    3433..3437,
                                                ),
                                            ),
                                            3433..3437,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "[",
                                                    3437..3438,
                                                ),
                                            ),
                                            3437..3438,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "0m",
                                                    3438..3440,
                                                ),
                                            ),
                                            3438..3440,
                                        ),
                                    ],
                                ),
                                3401..3441,
                            ),
                        ),
                    ),
                    3394..3441,
                ),
            ],
        ),
        3349..3443,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Return a text as italic",
                        ),
                        3445..3473,
                    ),
                ),
                3445..3473,
            ),
        ),
        3445..3473,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3473..3476,
            ),
            (
                "fun",
                3477..3480,
            ),
            (
                "text_italic",
                3481..3492,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3493..3493,
                        ),
                        (
                            "message",
                            3493..3500,
                        ),
                        (
                            Text,
                            3502..3506,
                        ),
                    ),
                    3493..3506,
                ),
            ],
            Some(
                (
                    Text,
                    3509..3513,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3520..3526,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Escape(
                                                (
                                                    "x1b",
                                                    3528..3532,
                                                ),
                                            ),
                                            3528..3532,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "[",
                                                    3532..3533,
                                                ),
                                            ),
                                            3532..3533,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "3m",
                                                    3533..3535,
                                                ),
                                            ),
                                            3533..3535,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    FunctionInvocation(
                                                        [],
                                                        (
                                                            "printf_escape",
                                                            3536..3549,
                                                        ),
                                                        [
                                                            (
                                                                Var(
                                                                    (
                                                                        "message",
                                                                        3550..3557,
                                                                    ),
                                                                ),
                                                                3550..3557,
                                                            ),
                                                        ],
                                                        None,
                                                    ),
                                                    3536..3558,
                                                ),
                                            ),
                                            3535..3559,
                                        ),
                                        (
                                            Escape(
                                                (
                                                    "x1b",
                                                    3559..3563,
                                                ),
                                            ),
                                            3559..3563,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "[",
                                                    3563..3564,
                                                ),
                                            ),
                                            3563..3564,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "0m",
                                                    3564..3566,
                                                ),
                                            ),
                                            3564..3566,
                                        ),
                                    ],
                                ),
                                3527..3567,
                            ),
                        ),
                    ),
                    3520..3567,
                ),
            ],
        ),
        3473..3569,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Return a text as underlined",
                        ),
                        3571..3603,
                    ),
                ),
                3571..3603,
            ),
        ),
        3571..3603,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3603..3606,
            ),
            (
                "fun",
                3607..3610,
            ),
            (
                "text_underlined",
                3611..3626,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3627..3627,
                        ),
                        (
                            "message",
                            3627..3634,
                        ),
                        (
                            Text,
                            3636..3640,
                        ),
                    ),
                    3627..3640,
                ),
            ],
            Some(
                (
                    Text,
                    3643..3647,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3654..3660,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Escape(
                                                (
                                                    "x1b",
                                                    3662..3666,
                                                ),
                                            ),
                                            3662..3666,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "[",
                                                    3666..3667,
                                                ),
                                            ),
                                            3666..3667,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "4m",
                                                    3667..3669,
                                                ),
                                            ),
                                            3667..3669,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    FunctionInvocation(
                                                        [],
                                                        (
                                                            "printf_escape",
                                                            3670..3683,
                                                        ),
                                                        [
                                                            (
                                                                Var(
                                                                    (
                                                                        "message",
                                                                        3684..3691,
                                                                    ),
                                                                ),
                                                                3684..3691,
                                                            ),
                                                        ],
                                                        None,
                                                    ),
                                                    3670..3692,
                                                ),
                                            ),
                                            3669..3693,
                                        ),
                                        (
                                            Escape(
                                                (
                                                    "x1b",
                                                    3693..3697,
                                                ),
                                            ),
                                            3693..3697,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "[",
                                                    3697..3698,
                                                ),
                                            ),
                                            3697..3698,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "0m",
                                                    3698..3700,
                                                ),
                                            ),
                                            3698..3700,
                                        ),
                                    ],
                                ),
                                3661..3701,
                            ),
                        ),
                    ),
                    3654..3701,
                ),
            ],
        ),
        3603..3703,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Print a text with a specified color",
                        ),
                        3705..3745,
                    ),
                ),
                3705..3745,
            ),
        ),
        3705..3745,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3745..3748,
            ),
            (
                "fun",
                3749..3752,
            ),
            (
                "color_echo",
                3753..3763,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3764..3764,
                        ),
                        (
                            "message",
                            3764..3771,
                        ),
                        (
                            Text,
                            3773..3777,
                        ),
                    ),
                    3764..3777,
                ),
                (
                    Typed(
                        (
                            false,
                            3779..3778,
                        ),
                        (
                            "color",
                            3779..3784,
                        ),
                        (
                            Num,
                            3786..3789,
                        ),
                    ),
                    3779..3789,
                ),
            ],
            Some(
                (
                    Null,
                    3792..3796,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    3803..3809,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            3811..3815,
                                                        ),
                                                    ),
                                                    3811..3815,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            3815..3816,
                                                        ),
                                                    ),
                                                    3815..3816,
                                                ),
                                                (
                                                    Expression(
                                                        (
                                                            Cast(
                                                                (
                                                                    Var(
                                                                        (
                                                                            "color",
                                                                            3817..3822,
                                                                        ),
                                                                    ),
                                                                    3817..3822,
                                                                ),
                                                                (
                                                                    "as",
                                                                    3823..3825,
                                                                ),
                                                                (
                                                                    Text,
                                                                    3826..3830,
                                                                ),
                                                            ),
                                                            3817..3830,
                                                        ),
                                                    ),
                                                    3816..3831,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "m",
                                                            3831..3832,
                                                        ),
                                                    ),
                                                    3831..3832,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "%",
                                                            3832..3833,
                                                        ),
                                                    ),
                                                    3832..3833,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "s",
                                                            3833..3834,
                                                        ),
                                                    ),
                                                    3833..3834,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            3834..3838,
                                                        ),
                                                    ),
                                                    3834..3838,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            3838..3839,
                                                        ),
                                                    ),
                                                    3838..3839,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "0m",
                                                            3839..3841,
                                                        ),
                                                    ),
                                                    3839..3841,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "n",
                                                            3841..3843,
                                                        ),
                                                    ),
                                                    3841..3843,
                                                ),
                                            ],
                                        ),
                                        3810..3844,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            3847..3854,
                                                        ),
                                                    ),
                                                    3847..3854,
                                                ),
                                            ],
                                        ),
                                        3846..3855,
                                    ),
                                ],
                                None,
                            ),
                            3803..3856,
                        ),
                    ),
                    3803..3856,
                ),
            ],
        ),
        3745..3858,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Print a text as Info",
                        ),
                        3860..3885,
                    ),
                ),
                3860..3885,
            ),
        ),
        3860..3885,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3885..3888,
            ),
            (
                "fun",
                3889..3892,
            ),
            (
                "echo_info",
                3893..3902,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3903..3903,
                        ),
                        (
                            "message",
                            3903..3910,
                        ),
                        (
                            Text,
                            3912..3916,
                        ),
                    ),
                    3903..3916,
                ),
            ],
            Some(
                (
                    Null,
                    3919..3923,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    3930..3936,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            3938..3942,
                                                        ),
                                                    ),
                                                    3938..3942,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            3942..3943,
                                                        ),
                                                    ),
                                                    3942..3943,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1",
                                                            3943..3944,
                                                        ),
                                                    ),
                                                    3943..3944,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            3944..3945,
                                                        ),
                                                    ),
                                                    3944..3945,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "3",
                                                            3945..3946,
                                                        ),
                                                    ),
                                                    3945..3946,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            3946..3947,
                                                        ),
                                                    ),
                                                    3946..3947,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "97",
                                                            3947..3949,
                                                        ),
                                                    ),
                                                    3947..3949,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            3949..3950,
                                                        ),
                                                    ),
                                                    3949..3950,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "44m",
                                                            3950..3953,
                                                        ),
                                                    ),
                                                    3950..3953,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "%",
                                                            3954..3955,
                                                        ),
                                                    ),
                                                    3954..3955,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "s",
                                                            3955..3956,
                                                        ),
                                                    ),
                                                    3955..3956,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            3957..3961,
                                                        ),
                                                    ),
                                                    3957..3961,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            3961..3962,
                                                        ),
                                                    ),
                                                    3961..3962,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "0m",
                                                            3962..3964,
                                                        ),
                                                    ),
                                                    3962..3964,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "n",
                                                            3964..3966,
                                                        ),
                                                    ),
                                                    3964..3966,
                                                ),
                                            ],
                                        ),
                                        3937..3967,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            3970..3977,
                                                        ),
                                                    ),
                                                    3970..3977,
                                                ),
                                            ],
                                        ),
                                        3969..3978,
                                    ),
                                ],
                                None,
                            ),
                            3930..3979,
                        ),
                    ),
                    3930..3979,
                ),
            ],
        ),
        3885..3981,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Print a text as Success",
                        ),
                        3983..4011,
                    ),
                ),
                3983..4011,
            ),
        ),
        3983..4011,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                4011..4014,
            ),
            (
                "fun",
                4015..4018,
            ),
            (
                "echo_success",
                4019..4031,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            4032..4032,
                        ),
                        (
                            "message",
                            4032..4039,
                        ),
                        (
                            Text,
                            4041..4045,
                        ),
                    ),
                    4032..4045,
                ),
            ],
            Some(
                (
                    Null,
                    4048..4052,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    4059..4065,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            4067..4071,
                                                        ),
                                                    ),
                                                    4067..4071,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            4071..4072,
                                                        ),
                                                    ),
                                                    4071..4072,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1",
                                                            4072..4073,
                                                        ),
                                                    ),
                                                    4072..4073,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4073..4074,
                                                        ),
                                                    ),
                                                    4073..4074,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "3",
                                                            4074..4075,
                                                        ),
                                                    ),
                                                    4074..4075,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4075..4076,
                                                        ),
                                                    ),
                                                    4075..4076,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "97",
                                                            4076..4078,
                                                        ),
                                                    ),
                                                    4076..4078,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4078..4079,
                                                        ),
                                                    ),
                                                    4078..4079,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "42m",
                                                            4079..4082,
                                                        ),
                                                    ),
                                                    4079..4082,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "%",
                                                            4083..4084,
                                                        ),
                                                    ),
                                                    4083..4084,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "s",
                                                            4084..4085,
                                                        ),
                                                    ),
                                                    4084..4085,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            4086..4090,
                                                        ),
                                                    ),
                                                    4086..4090,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            4090..4091,
                                                        ),
                                                    ),
                                                    4090..4091,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "0m",
                                                            4091..4093,
                                                        ),
                                                    ),
                                                    4091..4093,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "n",
                                                            4093..4095,
                                                        ),
                                                    ),
                                                    4093..4095,
                                                ),
                                            ],
                                        ),
                                        4066..4096,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            4099..4106,
                                                        ),
                                                    ),
                                                    4099..4106,
                                                ),
                                            ],
                                        ),
                                        4098..4107,
                                    ),
                                ],
                                None,
                            ),
                            4059..4108,
                        ),
                    ),
                    4059..4108,
                ),
            ],
        ),
        4011..4110,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Print a text as Warning",
                        ),
                        4112..4140,
                    ),
                ),
                4112..4140,
            ),
        ),
        4112..4140,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                4140..4143,
            ),
            (
                "fun",
                4144..4147,
            ),
            (
                "echo_warning",
                4148..4160,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            4161..4161,
                        ),
                        (
                            "message",
                            4161..4168,
                        ),
                        (
                            Text,
                            4170..4174,
                        ),
                    ),
                    4161..4174,
                ),
            ],
            Some(
                (
                    Null,
                    4177..4181,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    4188..4194,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            4196..4200,
                                                        ),
                                                    ),
                                                    4196..4200,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            4200..4201,
                                                        ),
                                                    ),
                                                    4200..4201,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1",
                                                            4201..4202,
                                                        ),
                                                    ),
                                                    4201..4202,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4202..4203,
                                                        ),
                                                    ),
                                                    4202..4203,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "3",
                                                            4203..4204,
                                                        ),
                                                    ),
                                                    4203..4204,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4204..4205,
                                                        ),
                                                    ),
                                                    4204..4205,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "97",
                                                            4205..4207,
                                                        ),
                                                    ),
                                                    4205..4207,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4207..4208,
                                                        ),
                                                    ),
                                                    4207..4208,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "43m",
                                                            4208..4211,
                                                        ),
                                                    ),
                                                    4208..4211,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "%",
                                                            4212..4213,
                                                        ),
                                                    ),
                                                    4212..4213,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "s",
                                                            4213..4214,
                                                        ),
                                                    ),
                                                    4213..4214,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            4215..4219,
                                                        ),
                                                    ),
                                                    4215..4219,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            4219..4220,
                                                        ),
                                                    ),
                                                    4219..4220,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "0m",
                                                            4220..4222,
                                                        ),
                                                    ),
                                                    4220..4222,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "n",
                                                            4222..4224,
                                                        ),
                                                    ),
                                                    4222..4224,
                                                ),
                                            ],
                                        ),
                                        4195..4225,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            4228..4235,
                                                        ),
                                                    ),
                                                    4228..4235,
                                                ),
                                            ],
                                        ),
                                        4227..4236,
                                    ),
                                ],
                                None,
                            ),
                            4188..4237,
                        ),
                    ),
                    4188..4237,
                ),
            ],
        ),
        4140..4239,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Print a text as Error and exit if the status code is greater than 0",
                        ),
                        4241..4313,
                    ),
                ),
                4241..4313,
            ),
        ),
        4241..4313,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                4313..4316,
            ),
            (
                "fun",
                4317..4320,
            ),
            (
                "error",
                4321..4326,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            4327..4327,
                        ),
                        (
                            "message",
                            4327..4334,
                        ),
                        (
                            Text,
                            4336..4340,
                        ),
                    ),
                    4327..4340,
                ),
                (
                    Optional(
                        (
                            false,
                            4342..4341,
                        ),
                        (
                            "exit_code",
                            4342..4351,
                        ),
                        Some(
                            (
                                Num,
                                4353..4356,
                            ),
                        ),
                        (
                            Number(
                                (
                                    1.0,
                                    4359..4360,
                                ),
                            ),
                            4359..4360,
                        ),
                    ),
                    4342..4360,
                ),
            ],
            Some(
                (
                    Null,
                    4363..4367,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    4374..4380,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            4382..4386,
                                                        ),
                                                    ),
                                                    4382..4386,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            4386..4387,
                                                        ),
                                                    ),
                                                    4386..4387,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1",
                                                            4387..4388,
                                                        ),
                                                    ),
                                                    4387..4388,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4388..4389,
                                                        ),
                                                    ),
                                                    4388..4389,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "3",
                                                            4389..4390,
                                                        ),
                                                    ),
                                                    4389..4390,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4390..4391,
                                                        ),
                                                    ),
                                                    4390..4391,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "97",
                                                            4391..4393,
                                                        ),
                                                    ),
                                                    4391..4393,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            ";",
                                                            4393..4394,
                                                        ),
                                                    ),
                                                    4393..4394,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "41m",
                                                            4394..4397,
                                                        ),
                                                    ),
                                                    4394..4397,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "%",
                                                            4398..4399,
                                                        ),
                                                    ),
                                                    4398..4399,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "s",
                                                            4399..4400,
                                                        ),
                                                    ),
                                                    4399..4400,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "x1b",
                                                            4401..4405,
                                                        ),
                                                    ),
                                                    4401..4405,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "[",
                                                            4405..4406,
                                                        ),
                                                    ),
                                                    4405..4406,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "0m",
                                                            4406..4408,
                                                        ),
                                                    ),
                                                    4406..4408,
                                                ),
                                                (
                                                    Escape(
                                                        (
                                                            "n",
                                                            4408..4410,
                                                        ),
                                                    ),
                                                    4408..4410,
                                                ),
                                            ],
                                        ),
                                        4381..4411,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            4414..4421,
                                                        ),
                                                    ),
                                                    4414..4421,
                                                ),
                                            ],
                                        ),
                                        4413..4422,
                                    ),
                                ],
                                None,
                            ),
                            4374..4423,
                        ),
                    ),
                    4374..4423,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            4428..4430,
                        ),
                        (
                            InlineIfCondition(
                                (
                                    Gt(
                                        (
                                            Var(
                                                (
                                                    "exit_code",
                                                    4431..4440,
                                                ),
                                            ),
                                            4431..4440,
                                        ),
                                        (
                                            Number(
                                                (
                                                    0.0,
                                                    4443..4444,
                                                ),
                                            ),
                                            4443..4444,
                                        ),
                                    ),
                                    4431..4444,
                                ),
                                (
                                    Expression(
                                        (
                                            FunctionInvocation(
                                                [],
                                                (
                                                    "exit",
                                                    4447..4451,
                                                ),
                                                [
                                                    (
                                                        Var(
                                                            (
                                                                "exit_code",
                                                                4452..4461,
                                                            ),
                                                        ),
                                                        4452..4461,
                                                    ),
                                                ],
                                                None,
                                            ),
                                            4447..4462,
                                        ),
                                    ),
                                    4447..4462,
                                ),
                            ),
                            4431..4462,
                        ),
                        [],
                        None,
                    ),
                    4428..4462,
                ),
            ],
        ),
        4313..4464,
    ),
]
