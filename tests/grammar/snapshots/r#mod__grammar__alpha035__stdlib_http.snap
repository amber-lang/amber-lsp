---
source: tests/grammar/alpha035.rs
expression: parse_unwrap(&tokenize(&stdlib))
---
[
    (
        Import(
            (
                false,
                0..6,
            ),
            (
                "import",
                0..6,
            ),
            (
                ImportAll,
                7..8,
            ),
            (
                "from",
                9..13,
            ),
            (
                "std/env",
                14..23,
            ),
        ),
        0..23,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Downloads a file from a given URL and saves it to a specified path using available command-line tools.",
                        ),
                        25..132,
                    ),
                ),
                25..132,
            ),
        ),
        25..132,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "",
                        ),
                        132..136,
                    ),
                ),
                132..136,
            ),
        ),
        132..136,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "This function attempts to download a file from the provided URL and save it to the specified path.",
                        ),
                        136..239,
                    ),
                ),
                136..239,
            ),
        ),
        136..239,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "It checks for the availability of common command-line tools (`curl`, `wget`, and `aria2c`) and uses the first available tool to perform the download.",
                        ),
                        239..393,
                    ),
                ),
                239..393,
            ),
        ),
        239..393,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "If none of the tools are available, the function returns `false`.",
                        ),
                        393..463,
                    ),
                ),
                393..463,
            ),
        ),
        393..463,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                463..466,
            ),
            (
                "fun",
                467..470,
            ),
            (
                "download",
                471..479,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            480..480,
                        ),
                        (
                            "url",
                            480..483,
                        ),
                        (
                            Text,
                            485..489,
                        ),
                    ),
                    480..489,
                ),
                (
                    Typed(
                        (
                            false,
                            491..490,
                        ),
                        (
                            "path",
                            491..495,
                        ),
                        (
                            Text,
                            497..501,
                        ),
                    ),
                    491..501,
                ),
            ],
            Some(
                (
                    Bool,
                    504..508,
                ),
            ),
            [
                (
                    IfChain(
                        (
                            "if",
                            515..517,
                        ),
                        [
                            (
                                IfCondition(
                                    (
                                        IfCondition(
                                            (
                                                FunctionInvocation(
                                                    [],
                                                    (
                                                        "is_command",
                                                        528..538,
                                                    ),
                                                    [
                                                        (
                                                            Text(
                                                                [
                                                                    (
                                                                        Text(
                                                                            (
                                                                                "curl",
                                                                                540..544,
                                                                            ),
                                                                        ),
                                                                        540..544,
                                                                    ),
                                                                ],
                                                            ),
                                                            539..545,
                                                        ),
                                                    ],
                                                    None,
                                                ),
                                                528..546,
                                            ),
                                            (
                                                Block(
                                                    [],
                                                    [
                                                        (
                                                            Expression(
                                                                (
                                                                    Command(
                                                                        [
                                                                            (
                                                                                Unsafe,
                                                                                561..567,
                                                                            ),
                                                                        ],
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                568..569,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "curl",
                                                                                ),
                                                                                569..573,
                                                                            ),
                                                                            (
                                                                                CommandOption(
                                                                                    "-L",
                                                                                ),
                                                                                574..576,
                                                                            ),
                                                                            (
                                                                                CommandOption(
                                                                                    "-o",
                                                                                ),
                                                                                577..579,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                580..581,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "path",
                                                                                                582..586,
                                                                                            ),
                                                                                        ),
                                                                                        582..586,
                                                                                    ),
                                                                                ),
                                                                                581..587,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                587..588,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                589..590,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "url",
                                                                                                591..594,
                                                                                            ),
                                                                                        ),
                                                                                        591..594,
                                                                                    ),
                                                                                ),
                                                                                590..595,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                595..596,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                596..597,
                                                                            ),
                                                                        ],
                                                                        None,
                                                                    ),
                                                                    561..597,
                                                                ),
                                                            ),
                                                            561..597,
                                                        ),
                                                    ],
                                                ),
                                                547..607,
                                            ),
                                        ),
                                        528..607,
                                    ),
                                ),
                                528..607,
                            ),
                            (
                                IfCondition(
                                    (
                                        IfCondition(
                                            (
                                                FunctionInvocation(
                                                    [],
                                                    (
                                                        "is_command",
                                                        616..626,
                                                    ),
                                                    [
                                                        (
                                                            Text(
                                                                [
                                                                    (
                                                                        Text(
                                                                            (
                                                                                "wget",
                                                                                628..632,
                                                                            ),
                                                                        ),
                                                                        628..632,
                                                                    ),
                                                                ],
                                                            ),
                                                            627..633,
                                                        ),
                                                    ],
                                                    None,
                                                ),
                                                616..634,
                                            ),
                                            (
                                                Block(
                                                    [],
                                                    [
                                                        (
                                                            Expression(
                                                                (
                                                                    Command(
                                                                        [
                                                                            (
                                                                                Unsafe,
                                                                                649..655,
                                                                            ),
                                                                        ],
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                656..657,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "wget",
                                                                                ),
                                                                                657..661,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                662..663,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "url",
                                                                                                664..667,
                                                                                            ),
                                                                                        ),
                                                                                        664..667,
                                                                                    ),
                                                                                ),
                                                                                663..668,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                668..669,
                                                                            ),
                                                                            (
                                                                                CommandOption(
                                                                                    "-P",
                                                                                ),
                                                                                670..672,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                673..674,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "path",
                                                                                                675..679,
                                                                                            ),
                                                                                        ),
                                                                                        675..679,
                                                                                    ),
                                                                                ),
                                                                                674..680,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                680..681,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                681..682,
                                                                            ),
                                                                        ],
                                                                        None,
                                                                    ),
                                                                    649..682,
                                                                ),
                                                            ),
                                                            649..682,
                                                        ),
                                                    ],
                                                ),
                                                635..692,
                                            ),
                                        ),
                                        616..692,
                                    ),
                                ),
                                616..692,
                            ),
                            (
                                IfCondition(
                                    (
                                        IfCondition(
                                            (
                                                FunctionInvocation(
                                                    [],
                                                    (
                                                        "is_command",
                                                        701..711,
                                                    ),
                                                    [
                                                        (
                                                            Text(
                                                                [
                                                                    (
                                                                        Text(
                                                                            (
                                                                                "aria2c",
                                                                                713..719,
                                                                            ),
                                                                        ),
                                                                        713..719,
                                                                    ),
                                                                ],
                                                            ),
                                                            712..720,
                                                        ),
                                                    ],
                                                    None,
                                                ),
                                                701..721,
                                            ),
                                            (
                                                Block(
                                                    [],
                                                    [
                                                        (
                                                            Expression(
                                                                (
                                                                    Command(
                                                                        [
                                                                            (
                                                                                Unsafe,
                                                                                736..742,
                                                                            ),
                                                                        ],
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                743..744,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "aria2c",
                                                                                ),
                                                                                744..750,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                751..752,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "url",
                                                                                                753..756,
                                                                                            ),
                                                                                        ),
                                                                                        753..756,
                                                                                    ),
                                                                                ),
                                                                                752..757,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                757..758,
                                                                            ),
                                                                            (
                                                                                CommandOption(
                                                                                    "-d",
                                                                                ),
                                                                                759..761,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                762..763,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "path",
                                                                                                764..768,
                                                                                            ),
                                                                                        ),
                                                                                        764..768,
                                                                                    ),
                                                                                ),
                                                                                763..769,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                769..770,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                770..771,
                                                                            ),
                                                                        ],
                                                                        None,
                                                                    ),
                                                                    736..771,
                                                                ),
                                                            ),
                                                            736..771,
                                                        ),
                                                    ],
                                                ),
                                                722..781,
                                            ),
                                        ),
                                        701..781,
                                    ),
                                ),
                                701..781,
                            ),
                            (
                                Else(
                                    (
                                        Else(
                                            (
                                                "else",
                                                790..794,
                                            ),
                                            (
                                                Block(
                                                    [],
                                                    [
                                                        (
                                                            Return(
                                                                (
                                                                    "return",
                                                                    809..815,
                                                                ),
                                                                Some(
                                                                    (
                                                                        Boolean(
                                                                            (
                                                                                false,
                                                                                816..821,
                                                                            ),
                                                                        ),
                                                                        816..821,
                                                                    ),
                                                                ),
                                                            ),
                                                            809..821,
                                                        ),
                                                    ],
                                                ),
                                                795..831,
                                            ),
                                        ),
                                        790..831,
                                    ),
                                ),
                                790..831,
                            ),
                        ],
                    ),
                    515..837,
                ),
                (
                    Return(
                        (
                            "return",
                            843..849,
                        ),
                        Some(
                            (
                                Boolean(
                                    (
                                        true,
                                        850..854,
                                    ),
                                ),
                                850..854,
                            ),
                        ),
                    ),
                    843..854,
                ),
            ],
        ),
        463..856,
    ),
]
