---
source: tests/grammar/alpha050.rs
expression: parse(&tokenize(input))
---
(
    Some(
        [
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            5..6,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            6..7,
                                        ),
                                    ],
                                    [],
                                ),
                                5..7,
                            ),
                        ),
                        5..7,
                    ),
                ),
                5..7,
            ),
            (
                Statement(
                    (
                        Error,
                        8..17,
                    ),
                ),
                8..17,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Parentheses(
                                    (
                                        Var(
                                            (
                                                "code",
                                                18..22,
                                            ),
                                        ),
                                        18..22,
                                    ),
                                ),
                                17..23,
                            ),
                        ),
                        17..23,
                    ),
                ),
                17..23,
            ),
            (
                Statement(
                    (
                        Error,
                        23..24,
                    ),
                ),
                23..24,
            ),
            (
                Statement(
                    (
                        Echo(
                            (
                                "echo",
                                25..29,
                            ),
                            (
                                Var(
                                    (
                                        "code",
                                        30..34,
                                    ),
                                ),
                                30..34,
                            ),
                        ),
                        25..34,
                    ),
                ),
                25..34,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should fail",
                                ),
                                35..50,
                            ),
                        ),
                        35..50,
                    ),
                ),
                35..50,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            54..55,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            55..56,
                                        ),
                                    ],
                                    [
                                        (
                                            Succeeded(
                                                (
                                                    "succeeded",
                                                    57..66,
                                                ),
                                                (
                                                    Singleline(
                                                        (
                                                            Echo(
                                                                (
                                                                    "echo",
                                                                    68..72,
                                                                ),
                                                                (
                                                                    Text(
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    (
                                                                                        "success",
                                                                                        74..81,
                                                                                    ),
                                                                                ),
                                                                                74..81,
                                                                            ),
                                                                        ],
                                                                    ),
                                                                    73..82,
                                                                ),
                                                            ),
                                                            68..82,
                                                        ),
                                                    ),
                                                    66..82,
                                                ),
                                            ),
                                            57..82,
                                        ),
                                    ],
                                ),
                                54..82,
                            ),
                        ),
                        54..82,
                    ),
                ),
                54..82,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should succeed",
                                ),
                                83..101,
                            ),
                        ),
                        83..101,
                    ),
                ),
                83..101,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            106..107,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            107..108,
                                        ),
                                    ],
                                    [
                                        (
                                            Failure(
                                                (
                                                    Handle(
                                                        (
                                                            "failed",
                                                            109..115,
                                                        ),
                                                        Some(
                                                            (
                                                                "code",
                                                                116..120,
                                                            ),
                                                        ),
                                                        (
                                                            Singleline(
                                                                (
                                                                    Echo(
                                                                        (
                                                                            "echo",
                                                                            123..127,
                                                                        ),
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "code",
                                                                                    128..132,
                                                                                ),
                                                                            ),
                                                                            128..132,
                                                                        ),
                                                                    ),
                                                                    123..132,
                                                                ),
                                                            ),
                                                            121..132,
                                                        ),
                                                    ),
                                                    109..132,
                                                ),
                                            ),
                                            109..132,
                                        ),
                                    ],
                                ),
                                106..132,
                            ),
                        ),
                        106..132,
                    ),
                ),
                106..132,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should succeed",
                                ),
                                133..151,
                            ),
                        ),
                        133..151,
                    ),
                ),
                133..151,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            155..156,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            156..157,
                                        ),
                                    ],
                                    [
                                        (
                                            Failure(
                                                (
                                                    Handle(
                                                        (
                                                            "failed",
                                                            158..164,
                                                        ),
                                                        None,
                                                        (
                                                            Singleline(
                                                                (
                                                                    Echo(
                                                                        (
                                                                            "echo",
                                                                            166..170,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                [
                                                                                    (
                                                                                        Text(
                                                                                            (
                                                                                                "failed",
                                                                                                172..178,
                                                                                            ),
                                                                                        ),
                                                                                        172..178,
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                            171..179,
                                                                        ),
                                                                    ),
                                                                    166..179,
                                                                ),
                                                            ),
                                                            164..179,
                                                        ),
                                                    ),
                                                    158..179,
                                                ),
                                            ),
                                            158..179,
                                        ),
                                    ],
                                ),
                                155..179,
                            ),
                        ),
                        155..179,
                    ),
                ),
                155..179,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should succeed",
                                ),
                                180..198,
                            ),
                        ),
                        180..198,
                    ),
                ),
                180..198,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            203..204,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            204..205,
                                        ),
                                    ],
                                    [
                                        (
                                            Exited(
                                                (
                                                    "exited",
                                                    206..212,
                                                ),
                                                (
                                                    "code",
                                                    213..217,
                                                ),
                                                (
                                                    Singleline(
                                                        (
                                                            Echo(
                                                                (
                                                                    "echo",
                                                                    220..224,
                                                                ),
                                                                (
                                                                    Var(
                                                                        (
                                                                            "code",
                                                                            225..229,
                                                                        ),
                                                                    ),
                                                                    225..229,
                                                                ),
                                                            ),
                                                            220..229,
                                                        ),
                                                    ),
                                                    218..229,
                                                ),
                                            ),
                                            206..229,
                                        ),
                                    ],
                                ),
                                203..229,
                            ),
                        ),
                        203..229,
                    ),
                ),
                203..229,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should succeed",
                                ),
                                230..248,
                            ),
                        ),
                        230..248,
                    ),
                ),
                230..248,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            252..253,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            253..254,
                                        ),
                                    ],
                                    [],
                                ),
                                252..254,
                            ),
                        ),
                        252..254,
                    ),
                ),
                252..254,
            ),
            (
                Statement(
                    (
                        Error,
                        255..261,
                    ),
                ),
                255..261,
            ),
            (
                Statement(
                    (
                        Error,
                        261..262,
                    ),
                ),
                261..262,
            ),
            (
                Statement(
                    (
                        Echo(
                            (
                                "echo",
                                263..267,
                            ),
                            (
                                Text(
                                    [
                                        (
                                            Text(
                                                (
                                                    "then",
                                                    269..273,
                                                ),
                                            ),
                                            269..273,
                                        ),
                                    ],
                                ),
                                268..274,
                            ),
                        ),
                        263..274,
                    ),
                ),
                263..274,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should fail",
                                ),
                                275..290,
                            ),
                        ),
                        275..290,
                    ),
                ),
                275..290,
            ),
        ],
    ),
    [
        found "(" at 17..18 expected '":"', or '"{"',
        found end of input at 23..24 expected something else,
        keyword used as status code argument name at 263..267,
        found end of input at 261..262 expected something else,
    ],
)
