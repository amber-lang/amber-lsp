---
source: tests/grammar/alpha050.rs
expression: parse(&tokenize(input))
---
(
    Some(
        [
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            5..6,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            6..7,
                                        ),
                                    ],
                                    [],
                                ),
                                5..7,
                            ),
                        ),
                        5..7,
                    ),
                ),
                5..7,
            ),
            (
                Statement(
                    (
                        Error,
                        8..17,
                    ),
                ),
                8..17,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Parentheses(
                                    (
                                        Var(
                                            (
                                                "code",
                                                18..22,
                                            ),
                                        ),
                                        18..22,
                                    ),
                                ),
                                17..23,
                            ),
                        ),
                        17..23,
                    ),
                ),
                17..23,
            ),
            (
                Statement(
                    (
                        Error,
                        23..24,
                    ),
                ),
                23..24,
            ),
            (
                Statement(
                    (
                        Echo(
                            (
                                "echo",
                                25..29,
                            ),
                            (
                                Var(
                                    (
                                        "code",
                                        30..34,
                                    ),
                                ),
                                30..34,
                            ),
                        ),
                        25..34,
                    ),
                ),
                25..34,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should fail",
                                ),
                                35..50,
                            ),
                        ),
                        35..50,
                    ),
                ),
                35..50,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            54..55,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            55..56,
                                        ),
                                    ],
                                    [
                                        (
                                            Succeeded(
                                                (
                                                    "succeeded",
                                                    57..66,
                                                ),
                                                (
                                                    Singleline(
                                                        (
                                                            Echo(
                                                                (
                                                                    "echo",
                                                                    68..72,
                                                                ),
                                                                (
                                                                    Text(
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    (
                                                                                        "success",
                                                                                        74..81,
                                                                                    ),
                                                                                ),
                                                                                74..81,
                                                                            ),
                                                                        ],
                                                                    ),
                                                                    73..82,
                                                                ),
                                                            ),
                                                            68..82,
                                                        ),
                                                    ),
                                                    66..82,
                                                ),
                                            ),
                                            57..82,
                                        ),
                                    ],
                                ),
                                54..82,
                            ),
                        ),
                        54..82,
                    ),
                ),
                54..82,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should succeed",
                                ),
                                83..101,
                            ),
                        ),
                        83..101,
                    ),
                ),
                83..101,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            106..107,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            107..108,
                                        ),
                                    ],
                                    [
                                        (
                                            Failure(
                                                (
                                                    Handle(
                                                        (
                                                            "failed",
                                                            109..115,
                                                        ),
                                                        Some(
                                                            (
                                                                "code",
                                                                116..120,
                                                            ),
                                                        ),
                                                        (
                                                            Singleline(
                                                                (
                                                                    Echo(
                                                                        (
                                                                            "echo",
                                                                            123..127,
                                                                        ),
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "code",
                                                                                    128..132,
                                                                                ),
                                                                            ),
                                                                            128..132,
                                                                        ),
                                                                    ),
                                                                    123..132,
                                                                ),
                                                            ),
                                                            121..132,
                                                        ),
                                                    ),
                                                    109..132,
                                                ),
                                            ),
                                            109..132,
                                        ),
                                    ],
                                ),
                                106..132,
                            ),
                        ),
                        106..132,
                    ),
                ),
                106..132,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should succeed",
                                ),
                                133..151,
                            ),
                        ),
                        133..151,
                    ),
                ),
                133..151,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            155..156,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            156..157,
                                        ),
                                    ],
                                    [
                                        (
                                            Failure(
                                                (
                                                    Handle(
                                                        (
                                                            "failed",
                                                            158..164,
                                                        ),
                                                        None,
                                                        (
                                                            Singleline(
                                                                (
                                                                    Echo(
                                                                        (
                                                                            "echo",
                                                                            166..170,
                                                                        ),
                                                                        (
                                                                            Text(
                                                                                [
                                                                                    (
                                                                                        Text(
                                                                                            (
                                                                                                "failed",
                                                                                                172..178,
                                                                                            ),
                                                                                        ),
                                                                                        172..178,
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                            171..179,
                                                                        ),
                                                                    ),
                                                                    166..179,
                                                                ),
                                                            ),
                                                            164..179,
                                                        ),
                                                    ),
                                                    158..179,
                                                ),
                                            ),
                                            158..179,
                                        ),
                                    ],
                                ),
                                155..179,
                            ),
                        ),
                        155..179,
                    ),
                ),
                155..179,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should succeed",
                                ),
                                180..198,
                            ),
                        ),
                        180..198,
                    ),
                ),
                180..198,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            203..204,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            204..205,
                                        ),
                                    ],
                                    [
                                        (
                                            Then(
                                                (
                                                    "then",
                                                    206..210,
                                                ),
                                                (
                                                    "code",
                                                    211..215,
                                                ),
                                                (
                                                    Singleline(
                                                        (
                                                            Echo(
                                                                (
                                                                    "echo",
                                                                    218..222,
                                                                ),
                                                                (
                                                                    Var(
                                                                        (
                                                                            "code",
                                                                            223..227,
                                                                        ),
                                                                    ),
                                                                    223..227,
                                                                ),
                                                            ),
                                                            218..227,
                                                        ),
                                                    ),
                                                    216..227,
                                                ),
                                            ),
                                            206..227,
                                        ),
                                    ],
                                ),
                                203..227,
                            ),
                        ),
                        203..227,
                    ),
                ),
                203..227,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should succeed",
                                ),
                                228..246,
                            ),
                        ),
                        228..246,
                    ),
                ),
                228..246,
            ),
            (
                Statement(
                    (
                        Expression(
                            (
                                Ternary(
                                    (
                                        Command(
                                            [],
                                            [
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    250..251,
                                                ),
                                                (
                                                    Text(
                                                        "$",
                                                    ),
                                                    251..252,
                                                ),
                                            ],
                                            [],
                                        ),
                                        250..252,
                                    ),
                                    (
                                        "then",
                                        253..257,
                                    ),
                                    (
                                        Error,
                                        257..258,
                                    ),
                                    (
                                        "",
                                        259..258,
                                    ),
                                    (
                                        Error,
                                        259..258,
                                    ),
                                ),
                                250..258,
                            ),
                        ),
                        250..258,
                    ),
                ),
                250..258,
            ),
            (
                Statement(
                    (
                        Echo(
                            (
                                "echo",
                                259..263,
                            ),
                            (
                                Text(
                                    [
                                        (
                                            Text(
                                                (
                                                    "then",
                                                    265..269,
                                                ),
                                            ),
                                            265..269,
                                        ),
                                    ],
                                ),
                                264..270,
                            ),
                        ),
                        259..270,
                    ),
                ),
                259..270,
            ),
            (
                Statement(
                    (
                        Comment(
                            (
                                Comment(
                                    "should fail",
                                ),
                                271..286,
                            ),
                        ),
                        271..286,
                    ),
                ),
                271..286,
            ),
        ],
    ),
    [
        found "(" at 17..18 expected '":"', or '"{"',
        found end of input at 23..24 expected something else,
        keyword used as status code argument name at 259..263,
        found "echo" at 259..263 expected '"else"',
        found "echo" at 259..263 expected something else,
    ],
)
