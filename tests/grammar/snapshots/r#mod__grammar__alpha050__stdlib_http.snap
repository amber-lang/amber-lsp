---
source: tests/grammar/alpha050.rs
expression: parse_unwrap(&tokenize(&stdlib))
---
[
    (
        Import(
            (
                false,
                0..6,
            ),
            (
                "import",
                0..6,
            ),
            (
                ImportAll,
                7..8,
            ),
            (
                "from",
                9..13,
            ),
            (
                "std/env",
                14..23,
            ),
        ),
        0..23,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Downloads a file from a given URL and saves it to a specified path using available command-line tools.",
                        ),
                        25..132,
                    ),
                ),
                25..132,
            ),
        ),
        25..132,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "",
                        ),
                        132..136,
                    ),
                ),
                132..136,
            ),
        ),
        132..136,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "It checks for the availability of common command-line tools (`curl`, `wget`, and `aria2c`, in order) and uses the first available tool to perform the download.",
                        ),
                        136..300,
                    ),
                ),
                136..300,
            ),
        ),
        136..300,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "If none of the tools are available, the function returns `false`.",
                        ),
                        300..370,
                    ),
                ),
                300..370,
            ),
        ),
        300..370,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                370..373,
            ),
            (
                "fun",
                374..377,
            ),
            (
                "file_download",
                378..391,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            392..392,
                        ),
                        (
                            "url",
                            392..395,
                        ),
                        (
                            Text,
                            397..401,
                        ),
                    ),
                    392..401,
                ),
                (
                    Typed(
                        (
                            false,
                            403..402,
                        ),
                        (
                            "path",
                            403..407,
                        ),
                        (
                            Text,
                            409..413,
                        ),
                    ),
                    403..413,
                ),
            ],
            Some(
                (
                    Bool,
                    416..420,
                ),
            ),
            [
                (
                    IfChain(
                        (
                            "if",
                            427..429,
                        ),
                        [
                            (
                                IfCondition(
                                    (
                                        IfCondition(
                                            (
                                                FunctionInvocation(
                                                    [],
                                                    (
                                                        "is_command",
                                                        440..450,
                                                    ),
                                                    [
                                                        (
                                                            Text(
                                                                [
                                                                    (
                                                                        Text(
                                                                            (
                                                                                "curl",
                                                                                452..456,
                                                                            ),
                                                                        ),
                                                                        452..456,
                                                                    ),
                                                                ],
                                                            ),
                                                            451..457,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                440..458,
                                            ),
                                            (
                                                Block(
                                                    [],
                                                    [
                                                        (
                                                            Expression(
                                                                (
                                                                    Command(
                                                                        [
                                                                            (
                                                                                Silent,
                                                                                473..479,
                                                                            ),
                                                                            (
                                                                                Trust,
                                                                                480..485,
                                                                            ),
                                                                        ],
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                486..487,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "curl",
                                                                                ),
                                                                                488..492,
                                                                            ),
                                                                            (
                                                                                CommandOption(
                                                                                    "-L",
                                                                                ),
                                                                                493..495,
                                                                            ),
                                                                            (
                                                                                CommandOption(
                                                                                    "-o",
                                                                                ),
                                                                                496..498,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                499..500,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "path",
                                                                                                501..505,
                                                                                            ),
                                                                                        ),
                                                                                        501..505,
                                                                                    ),
                                                                                ),
                                                                                500..506,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                506..507,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                508..509,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "url",
                                                                                                510..513,
                                                                                            ),
                                                                                        ),
                                                                                        510..513,
                                                                                    ),
                                                                                ),
                                                                                509..514,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                514..515,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                516..517,
                                                                            ),
                                                                        ],
                                                                        [],
                                                                    ),
                                                                    473..517,
                                                                ),
                                                            ),
                                                            473..517,
                                                        ),
                                                    ],
                                                ),
                                                459..527,
                                            ),
                                        ),
                                        440..527,
                                    ),
                                ),
                                440..527,
                            ),
                            (
                                IfCondition(
                                    (
                                        IfCondition(
                                            (
                                                FunctionInvocation(
                                                    [],
                                                    (
                                                        "is_command",
                                                        536..546,
                                                    ),
                                                    [
                                                        (
                                                            Text(
                                                                [
                                                                    (
                                                                        Text(
                                                                            (
                                                                                "wget",
                                                                                548..552,
                                                                            ),
                                                                        ),
                                                                        548..552,
                                                                    ),
                                                                ],
                                                            ),
                                                            547..553,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                536..554,
                                            ),
                                            (
                                                Block(
                                                    [],
                                                    [
                                                        (
                                                            Expression(
                                                                (
                                                                    Command(
                                                                        [
                                                                            (
                                                                                Silent,
                                                                                569..575,
                                                                            ),
                                                                            (
                                                                                Trust,
                                                                                576..581,
                                                                            ),
                                                                        ],
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                582..583,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "wget",
                                                                                ),
                                                                                584..588,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                589..590,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "url",
                                                                                                591..594,
                                                                                            ),
                                                                                        ),
                                                                                        591..594,
                                                                                    ),
                                                                                ),
                                                                                590..595,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                595..596,
                                                                            ),
                                                                            (
                                                                                CommandOption(
                                                                                    "-P",
                                                                                ),
                                                                                597..599,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                600..601,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "path",
                                                                                                602..606,
                                                                                            ),
                                                                                        ),
                                                                                        602..606,
                                                                                    ),
                                                                                ),
                                                                                601..607,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                607..608,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                609..610,
                                                                            ),
                                                                        ],
                                                                        [],
                                                                    ),
                                                                    569..610,
                                                                ),
                                                            ),
                                                            569..610,
                                                        ),
                                                    ],
                                                ),
                                                555..620,
                                            ),
                                        ),
                                        536..620,
                                    ),
                                ),
                                536..620,
                            ),
                            (
                                IfCondition(
                                    (
                                        IfCondition(
                                            (
                                                FunctionInvocation(
                                                    [],
                                                    (
                                                        "is_command",
                                                        629..639,
                                                    ),
                                                    [
                                                        (
                                                            Text(
                                                                [
                                                                    (
                                                                        Text(
                                                                            (
                                                                                "aria2c",
                                                                                641..647,
                                                                            ),
                                                                        ),
                                                                        641..647,
                                                                    ),
                                                                ],
                                                            ),
                                                            640..648,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                629..649,
                                            ),
                                            (
                                                Block(
                                                    [],
                                                    [
                                                        (
                                                            Expression(
                                                                (
                                                                    Command(
                                                                        [
                                                                            (
                                                                                Silent,
                                                                                664..670,
                                                                            ),
                                                                            (
                                                                                Trust,
                                                                                671..676,
                                                                            ),
                                                                        ],
                                                                        [
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                677..678,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "aria2c",
                                                                                ),
                                                                                679..685,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                686..687,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "url",
                                                                                                688..691,
                                                                                            ),
                                                                                        ),
                                                                                        688..691,
                                                                                    ),
                                                                                ),
                                                                                687..692,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                692..693,
                                                                            ),
                                                                            (
                                                                                CommandOption(
                                                                                    "-d",
                                                                                ),
                                                                                694..696,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                697..698,
                                                                            ),
                                                                            (
                                                                                Expression(
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "path",
                                                                                                699..703,
                                                                                            ),
                                                                                        ),
                                                                                        699..703,
                                                                                    ),
                                                                                ),
                                                                                698..704,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "\"",
                                                                                ),
                                                                                704..705,
                                                                            ),
                                                                            (
                                                                                Text(
                                                                                    "$",
                                                                                ),
                                                                                706..707,
                                                                            ),
                                                                        ],
                                                                        [],
                                                                    ),
                                                                    664..707,
                                                                ),
                                                            ),
                                                            664..707,
                                                        ),
                                                    ],
                                                ),
                                                650..717,
                                            ),
                                        ),
                                        629..717,
                                    ),
                                ),
                                629..717,
                            ),
                            (
                                Else(
                                    (
                                        Else(
                                            (
                                                "else",
                                                726..730,
                                            ),
                                            (
                                                Block(
                                                    [],
                                                    [
                                                        (
                                                            Return(
                                                                (
                                                                    "return",
                                                                    745..751,
                                                                ),
                                                                Some(
                                                                    (
                                                                        Boolean(
                                                                            (
                                                                                false,
                                                                                752..757,
                                                                            ),
                                                                        ),
                                                                        752..757,
                                                                    ),
                                                                ),
                                                            ),
                                                            745..757,
                                                        ),
                                                    ],
                                                ),
                                                731..767,
                                            ),
                                        ),
                                        726..767,
                                    ),
                                ),
                                726..767,
                            ),
                        ],
                    ),
                    427..773,
                ),
                (
                    Return(
                        (
                            "return",
                            779..785,
                        ),
                        Some(
                            (
                                Boolean(
                                    (
                                        true,
                                        786..790,
                                    ),
                                ),
                                786..790,
                            ),
                        ),
                    ),
                    779..790,
                ),
            ],
        ),
        370..792,
    ),
]
