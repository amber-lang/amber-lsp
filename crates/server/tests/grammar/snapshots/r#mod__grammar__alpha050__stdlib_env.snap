---
source: tests/grammar/alpha050.rs
expression: parse_unwrap(&tokenize(&stdlib))
---
[
    (
        Import(
            (
                false,
                0..6,
            ),
            (
                "import",
                0..6,
            ),
            (
                ImportAll,
                7..8,
            ),
            (
                "from",
                9..13,
            ),
            (
                "std/fs",
                14..22,
            ),
        ),
        0..22,
    ),
    (
        Import(
            (
                false,
                23..29,
            ),
            (
                "import",
                23..29,
            ),
            (
                ImportAll,
                30..31,
            ),
            (
                "from",
                32..36,
            ),
            (
                "std/text",
                37..47,
            ),
        ),
        23..47,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Retrieves the value of an environment variable, optionally sourcing it from a file if not already set.",
                        ),
                        49..156,
                    ),
                ),
                49..156,
            ),
        ),
        49..156,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                156..159,
            ),
            (
                "fun",
                160..163,
            ),
            (
                "env_var_load",
                164..176,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            177..177,
                        ),
                        (
                            "var",
                            177..180,
                        ),
                        (
                            Text,
                            182..186,
                        ),
                    ),
                    177..186,
                ),
                (
                    Optional(
                        (
                            false,
                            188..187,
                        ),
                        (
                            "file",
                            188..192,
                        ),
                        Some(
                            (
                                Text,
                                194..198,
                            ),
                        ),
                        (
                            Text(
                                [
                                    (
                                        Text(
                                            (
                                                ".env",
                                                202..206,
                                            ),
                                        ),
                                        202..206,
                                    ),
                                ],
                            ),
                            201..207,
                        ),
                    ),
                    188..207,
                ),
            ],
            Some(
                (
                    Text,
                    210..214,
                ),
            ),
            [
                (
                    VariableInit(
                        (
                            "let",
                            221..224,
                        ),
                        (
                            "_var",
                            225..229,
                        ),
                        (
                            Expression(
                                (
                                    Command(
                                        [
                                            (
                                                Trust,
                                                232..237,
                                            ),
                                        ],
                                        [
                                            (
                                                Text(
                                                    "$",
                                                ),
                                                238..239,
                                            ),
                                            (
                                                Text(
                                                    "echo \"",
                                                ),
                                                239..246,
                                            ),
                                            (
                                                Text(
                                                    "\\$",
                                                ),
                                                246..248,
                                            ),
                                            (
                                                Text(
                                                    "\\{",
                                                ),
                                                248..250,
                                            ),
                                            (
                                                Text(
                                                    "!",
                                                ),
                                                250..251,
                                            ),
                                            (
                                                Expression(
                                                    (
                                                        Nameof(
                                                            (
                                                                "nameof",
                                                                252..258,
                                                            ),
                                                            (
                                                                Var(
                                                                    (
                                                                        "var",
                                                                        259..262,
                                                                    ),
                                                                ),
                                                                259..262,
                                                            ),
                                                        ),
                                                        259..262,
                                                    ),
                                                ),
                                                251..263,
                                            ),
                                            (
                                                Text(
                                                    "}\" ",
                                                ),
                                                263..266,
                                            ),
                                            (
                                                Text(
                                                    "$",
                                                ),
                                                266..267,
                                            ),
                                        ],
                                        [],
                                    ),
                                    232..267,
                                ),
                            ),
                            232..267,
                        ),
                    ),
                    221..267,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            272..274,
                        ),
                        (
                            IfCondition(
                                (
                                    Neq(
                                        (
                                            Var(
                                                (
                                                    "_var",
                                                    275..279,
                                                ),
                                            ),
                                            275..279,
                                        ),
                                        (
                                            Text(
                                                [],
                                            ),
                                            283..285,
                                        ),
                                    ),
                                    275..285,
                                ),
                                (
                                    Block(
                                        [],
                                        [
                                            (
                                                Return(
                                                    (
                                                        "return",
                                                        296..302,
                                                    ),
                                                    Some(
                                                        (
                                                            Var(
                                                                (
                                                                    "_var",
                                                                    303..307,
                                                                ),
                                                            ),
                                                            303..307,
                                                        ),
                                                    ),
                                                ),
                                                296..307,
                                            ),
                                        ],
                                    ),
                                    286..313,
                                ),
                            ),
                            275..313,
                        ),
                        [],
                        None,
                    ),
                    272..313,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            319..321,
                        ),
                        (
                            IfCondition(
                                (
                                    FunctionInvocation(
                                        [],
                                        (
                                            "file_exists",
                                            322..333,
                                        ),
                                        [
                                            (
                                                Var(
                                                    (
                                                        "file",
                                                        334..338,
                                                    ),
                                                ),
                                                334..338,
                                            ),
                                        ],
                                        [],
                                    ),
                                    322..339,
                                ),
                                (
                                    Block(
                                        [],
                                        [
                                            (
                                                Expression(
                                                    (
                                                        Command(
                                                            [
                                                                (
                                                                    Trust,
                                                                    350..355,
                                                                ),
                                                            ],
                                                            [
                                                                (
                                                                    Text(
                                                                        "$",
                                                                    ),
                                                                    356..357,
                                                                ),
                                                                (
                                                                    Text(
                                                                        "source \"",
                                                                    ),
                                                                    357..366,
                                                                ),
                                                                (
                                                                    Expression(
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "file",
                                                                                    367..371,
                                                                                ),
                                                                            ),
                                                                            367..371,
                                                                        ),
                                                                    ),
                                                                    366..372,
                                                                ),
                                                                (
                                                                    Text(
                                                                        "\" ",
                                                                    ),
                                                                    372..374,
                                                                ),
                                                                (
                                                                    Text(
                                                                        "$",
                                                                    ),
                                                                    374..375,
                                                                ),
                                                            ],
                                                            [],
                                                        ),
                                                        350..375,
                                                    ),
                                                ),
                                                350..375,
                                            ),
                                            (
                                                Return(
                                                    (
                                                        "return",
                                                        384..390,
                                                    ),
                                                    Some(
                                                        (
                                                            Command(
                                                                [
                                                                    (
                                                                        Trust,
                                                                        391..396,
                                                                    ),
                                                                ],
                                                                [
                                                                    (
                                                                        Text(
                                                                            "$",
                                                                        ),
                                                                        397..398,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "echo \"",
                                                                        ),
                                                                        398..405,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "\\$",
                                                                        ),
                                                                        405..407,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "\\{",
                                                                        ),
                                                                        407..409,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "!",
                                                                        ),
                                                                        409..410,
                                                                    ),
                                                                    (
                                                                        Expression(
                                                                            (
                                                                                Nameof(
                                                                                    (
                                                                                        "nameof",
                                                                                        411..417,
                                                                                    ),
                                                                                    (
                                                                                        Var(
                                                                                            (
                                                                                                "var",
                                                                                                418..421,
                                                                                            ),
                                                                                        ),
                                                                                        418..421,
                                                                                    ),
                                                                                ),
                                                                                418..421,
                                                                            ),
                                                                        ),
                                                                        410..422,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "}\" ",
                                                                        ),
                                                                        422..425,
                                                                    ),
                                                                    (
                                                                        Text(
                                                                            "$",
                                                                        ),
                                                                        425..426,
                                                                    ),
                                                                ],
                                                                [],
                                                            ),
                                                            391..426,
                                                        ),
                                                    ),
                                                ),
                                                384..426,
                                            ),
                                        ],
                                    ),
                                    340..432,
                                ),
                            ),
                            322..432,
                        ),
                        [],
                        None,
                    ),
                    319..432,
                ),
                (
                    Return(
                        (
                            "return",
                            438..444,
                        ),
                        Some(
                            (
                                Text(
                                    [],
                                ),
                                445..447,
                            ),
                        ),
                    ),
                    438..447,
                ),
            ],
        ),
        156..449,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Loads the env file in the environment, using `xargs`.",
                        ),
                        451..509,
                    ),
                ),
                451..509,
            ),
        ),
        451..509,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                509..512,
            ),
            (
                "fun",
                513..516,
            ),
            (
                "env_file_load",
                517..530,
            ),
            [
                (
                    Optional(
                        (
                            false,
                            531..531,
                        ),
                        (
                            "file",
                            531..535,
                        ),
                        Some(
                            (
                                Text,
                                537..541,
                            ),
                        ),
                        (
                            Text(
                                [
                                    (
                                        Text(
                                            (
                                                ".env",
                                                545..549,
                                            ),
                                        ),
                                        545..549,
                                    ),
                                ],
                            ),
                            544..550,
                        ),
                    ),
                    531..550,
                ),
            ],
            Some(
                (
                    Null,
                    553..557,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Trust,
                                        564..569,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        570..571,
                                    ),
                                    (
                                        Text(
                                            "export \"",
                                        ),
                                        571..580,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        580..582,
                                    ),
                                    (
                                        Text(
                                            "(xargs < ",
                                        ),
                                        582..591,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "file",
                                                        592..596,
                                                    ),
                                                ),
                                                592..596,
                                            ),
                                        ),
                                        591..597,
                                    ),
                                    (
                                        Text(
                                            ")\" > /dev/null ",
                                        ),
                                        597..612,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        612..613,
                                    ),
                                ],
                                [],
                            ),
                            564..613,
                        ),
                    ),
                    564..613,
                ),
            ],
        ),
        509..615,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Checks if a variable inside the shell session exists.",
                        ),
                        617..675,
                    ),
                ),
                617..675,
            ),
        ),
        617..675,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                675..678,
            ),
            (
                "fun",
                679..682,
            ),
            (
                "env_var_test",
                683..695,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            696..696,
                        ),
                        (
                            "name",
                            696..700,
                        ),
                        (
                            Text,
                            702..706,
                        ),
                    ),
                    696..706,
                ),
            ],
            Some(
                (
                    Bool,
                    709..713,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        720..721,
                                    ),
                                    (
                                        Text(
                                            "[[ ! -z ",
                                        ),
                                        721..730,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        730..732,
                                    ),
                                    (
                                        Text(
                                            "\\{",
                                        ),
                                        732..734,
                                    ),
                                    (
                                        Text(
                                            "!",
                                        ),
                                        734..735,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        736..742,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "name",
                                                                743..747,
                                                            ),
                                                        ),
                                                        743..747,
                                                    ),
                                                ),
                                                743..747,
                                            ),
                                        ),
                                        735..748,
                                    ),
                                    (
                                        Text(
                                            "+z} ]] ",
                                        ),
                                        748..755,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        755..756,
                                    ),
                                ],
                                [
                                    (
                                        Failure(
                                            (
                                                Handle(
                                                    (
                                                        "failed",
                                                        757..763,
                                                    ),
                                                    None,
                                                    (
                                                        Block(
                                                            [],
                                                            [
                                                                (
                                                                    Return(
                                                                        (
                                                                            "return",
                                                                            774..780,
                                                                        ),
                                                                        Some(
                                                                            (
                                                                                Boolean(
                                                                                    (
                                                                                        false,
                                                                                        781..786,
                                                                                    ),
                                                                                ),
                                                                                781..786,
                                                                            ),
                                                                        ),
                                                                    ),
                                                                    774..786,
                                                                ),
                                                            ],
                                                        ),
                                                        764..792,
                                                    ),
                                                ),
                                                757..792,
                                            ),
                                        ),
                                        757..792,
                                    ),
                                ],
                            ),
                            720..792,
                        ),
                    ),
                    720..792,
                ),
                (
                    Return(
                        (
                            "return",
                            797..803,
                        ),
                        Some(
                            (
                                Boolean(
                                    (
                                        true,
                                        804..808,
                                    ),
                                ),
                                804..808,
                            ),
                        ),
                    ),
                    797..808,
                ),
            ],
        ),
        675..810,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Sets a constant inside the shell session.",
                        ),
                        812..858,
                    ),
                ),
                812..858,
            ),
        ),
        812..858,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                858..861,
            ),
            (
                "fun",
                862..865,
            ),
            (
                "env_const_set",
                866..879,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            880..880,
                        ),
                        (
                            "name",
                            880..884,
                        ),
                        (
                            Text,
                            886..890,
                        ),
                    ),
                    880..890,
                ),
                (
                    Typed(
                        (
                            false,
                            892..891,
                        ),
                        (
                            "val",
                            892..895,
                        ),
                        (
                            Text,
                            897..901,
                        ),
                    ),
                    892..901,
                ),
            ],
            Some(
                (
                    Null?,
                    904..909,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        916..917,
                                    ),
                                    (
                                        Text(
                                            "readonly ",
                                        ),
                                        917..927,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        927..929,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        930..936,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "name",
                                                                937..941,
                                                            ),
                                                        ),
                                                        937..941,
                                                    ),
                                                ),
                                                937..941,
                                            ),
                                        ),
                                        929..942,
                                    ),
                                    (
                                        Text(
                                            "=\"",
                                        ),
                                        942..944,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        944..946,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        947..953,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "val",
                                                                954..957,
                                                            ),
                                                        ),
                                                        954..957,
                                                    ),
                                                ),
                                                954..957,
                                            ),
                                        ),
                                        946..958,
                                    ),
                                    (
                                        Text(
                                            "\" 2> /dev/null ",
                                        ),
                                        958..973,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        973..974,
                                    ),
                                ],
                                [
                                    (
                                        Failure(
                                            (
                                                Propagate,
                                                974..975,
                                            ),
                                        ),
                                        974..975,
                                    ),
                                ],
                            ),
                            916..975,
                        ),
                    ),
                    916..975,
                ),
            ],
        ),
        858..977,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Gets a constant inside the shell session.",
                        ),
                        979..1025,
                    ),
                ),
                979..1025,
            ),
        ),
        979..1025,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1025..1028,
            ),
            (
                "fun",
                1029..1032,
            ),
            (
                "env_const_get",
                1033..1046,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1047..1047,
                        ),
                        (
                            "name",
                            1047..1051,
                        ),
                        (
                            Text,
                            1053..1057,
                        ),
                    ),
                    1047..1057,
                ),
            ],
            Some(
                (
                    Text?,
                    1060..1065,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            1072..1078,
                        ),
                        Some(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1079..1080,
                                        ),
                                        (
                                            Text(
                                                "echo ",
                                            ),
                                            1080..1086,
                                        ),
                                        (
                                            Text(
                                                "\\$",
                                            ),
                                            1086..1088,
                                        ),
                                        (
                                            Text(
                                                "\\{",
                                            ),
                                            1088..1090,
                                        ),
                                        (
                                            Text(
                                                "!",
                                            ),
                                            1090..1091,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Nameof(
                                                        (
                                                            "nameof",
                                                            1092..1098,
                                                        ),
                                                        (
                                                            Var(
                                                                (
                                                                    "name",
                                                                    1099..1103,
                                                                ),
                                                            ),
                                                            1099..1103,
                                                        ),
                                                    ),
                                                    1099..1103,
                                                ),
                                            ),
                                            1091..1104,
                                        ),
                                        (
                                            Text(
                                                "} ",
                                            ),
                                            1104..1106,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1106..1107,
                                        ),
                                    ],
                                    [
                                        (
                                            Failure(
                                                (
                                                    Propagate,
                                                    1107..1108,
                                                ),
                                            ),
                                            1107..1108,
                                        ),
                                    ],
                                ),
                                1079..1108,
                            ),
                        ),
                    ),
                    1072..1108,
                ),
            ],
        ),
        1025..1110,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Sets a constant inside the shell session.",
                        ),
                        1112..1158,
                    ),
                ),
                1112..1158,
            ),
        ),
        1112..1158,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1158..1161,
            ),
            (
                "fun",
                1162..1165,
            ),
            (
                "env_var_set",
                1166..1177,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1178..1178,
                        ),
                        (
                            "name",
                            1178..1182,
                        ),
                        (
                            Text,
                            1184..1188,
                        ),
                    ),
                    1178..1188,
                ),
                (
                    Typed(
                        (
                            false,
                            1190..1189,
                        ),
                        (
                            "val",
                            1190..1193,
                        ),
                        (
                            Text,
                            1195..1199,
                        ),
                    ),
                    1190..1199,
                ),
            ],
            Some(
                (
                    Null?,
                    1202..1207,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1214..1215,
                                    ),
                                    (
                                        Text(
                                            "export ",
                                        ),
                                        1215..1223,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        1223..1225,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        1226..1232,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "name",
                                                                1233..1237,
                                                            ),
                                                        ),
                                                        1233..1237,
                                                    ),
                                                ),
                                                1233..1237,
                                            ),
                                        ),
                                        1225..1238,
                                    ),
                                    (
                                        Text(
                                            "=\"",
                                        ),
                                        1238..1240,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        1240..1242,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        1243..1249,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "val",
                                                                1250..1253,
                                                            ),
                                                        ),
                                                        1250..1253,
                                                    ),
                                                ),
                                                1250..1253,
                                            ),
                                        ),
                                        1242..1254,
                                    ),
                                    (
                                        Text(
                                            "\" 2> /dev/null ",
                                        ),
                                        1254..1269,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1269..1270,
                                    ),
                                ],
                                [
                                    (
                                        Failure(
                                            (
                                                Propagate,
                                                1270..1271,
                                            ),
                                        ),
                                        1270..1271,
                                    ),
                                ],
                            ),
                            1214..1271,
                        ),
                    ),
                    1214..1271,
                ),
            ],
        ),
        1158..1273,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Gets a constant inside the shell session.",
                        ),
                        1275..1321,
                    ),
                ),
                1275..1321,
            ),
        ),
        1275..1321,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1321..1324,
            ),
            (
                "fun",
                1325..1328,
            ),
            (
                "env_var_get",
                1329..1340,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1341..1341,
                        ),
                        (
                            "name",
                            1341..1345,
                        ),
                        (
                            Text,
                            1347..1351,
                        ),
                    ),
                    1341..1351,
                ),
            ],
            Some(
                (
                    Text?,
                    1354..1359,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            1366..1372,
                        ),
                        Some(
                            (
                                Command(
                                    [],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1373..1374,
                                        ),
                                        (
                                            Text(
                                                "echo ",
                                            ),
                                            1374..1380,
                                        ),
                                        (
                                            Text(
                                                "\\$",
                                            ),
                                            1380..1382,
                                        ),
                                        (
                                            Text(
                                                "\\{",
                                            ),
                                            1382..1384,
                                        ),
                                        (
                                            Text(
                                                "!",
                                            ),
                                            1384..1385,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Nameof(
                                                        (
                                                            "nameof",
                                                            1386..1392,
                                                        ),
                                                        (
                                                            Var(
                                                                (
                                                                    "name",
                                                                    1393..1397,
                                                                ),
                                                            ),
                                                            1393..1397,
                                                        ),
                                                    ),
                                                    1393..1397,
                                                ),
                                            ),
                                            1385..1398,
                                        ),
                                        (
                                            Text(
                                                "} ",
                                            ),
                                            1398..1400,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1400..1401,
                                        ),
                                    ],
                                    [
                                        (
                                            Failure(
                                                (
                                                    Propagate,
                                                    1401..1402,
                                                ),
                                            ),
                                            1401..1402,
                                        ),
                                    ],
                                ),
                                1373..1402,
                            ),
                        ),
                    ),
                    1366..1402,
                ),
            ],
        ),
        1321..1404,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Removes a variable inside the shell session.",
                        ),
                        1406..1455,
                    ),
                ),
                1406..1455,
            ),
        ),
        1406..1455,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1455..1458,
            ),
            (
                "fun",
                1459..1462,
            ),
            (
                "env_var_unset",
                1463..1476,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1477..1477,
                        ),
                        (
                            "name",
                            1477..1481,
                        ),
                        (
                            Text,
                            1483..1487,
                        ),
                    ),
                    1477..1487,
                ),
            ],
            Some(
                (
                    Null?,
                    1490..1495,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1502..1503,
                                    ),
                                    (
                                        Text(
                                            "unset ",
                                        ),
                                        1503..1510,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "name",
                                                        1511..1515,
                                                    ),
                                                ),
                                                1511..1515,
                                            ),
                                        ),
                                        1510..1516,
                                    ),
                                    (
                                        Text(
                                            " ",
                                        ),
                                        1516..1517,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1517..1518,
                                    ),
                                ],
                                [
                                    (
                                        Failure(
                                            (
                                                Propagate,
                                                1518..1519,
                                            ),
                                        ),
                                        1518..1519,
                                    ),
                                ],
                            ),
                            1502..1519,
                        ),
                    ),
                    1502..1519,
                ),
            ],
        ),
        1455..1521,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Checks if a command exists.",
                        ),
                        1523..1555,
                    ),
                ),
                1523..1555,
            ),
        ),
        1523..1555,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1555..1558,
            ),
            (
                "fun",
                1559..1562,
            ),
            (
                "is_command",
                1563..1573,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1574..1574,
                        ),
                        (
                            "command",
                            1574..1581,
                        ),
                        (
                            Text,
                            1583..1587,
                        ),
                    ),
                    1574..1587,
                ),
            ],
            Some(
                (
                    Bool,
                    1590..1594,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1601..1602,
                                    ),
                                    (
                                        Text(
                                            "[ -x \"",
                                        ),
                                        1602..1609,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        1609..1611,
                                    ),
                                    (
                                        Text(
                                            "(command -v \"",
                                        ),
                                        1611..1624,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "command",
                                                        1625..1632,
                                                    ),
                                                ),
                                                1625..1632,
                                            ),
                                        ),
                                        1624..1633,
                                    ),
                                    (
                                        Text(
                                            "\")\" ] ",
                                        ),
                                        1633..1639,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1639..1640,
                                    ),
                                ],
                                [
                                    (
                                        Failure(
                                            (
                                                Handle(
                                                    (
                                                        "failed",
                                                        1641..1647,
                                                    ),
                                                    None,
                                                    (
                                                        Block(
                                                            [],
                                                            [
                                                                (
                                                                    Return(
                                                                        (
                                                                            "return",
                                                                            1658..1664,
                                                                        ),
                                                                        Some(
                                                                            (
                                                                                Boolean(
                                                                                    (
                                                                                        false,
                                                                                        1665..1670,
                                                                                    ),
                                                                                ),
                                                                                1665..1670,
                                                                            ),
                                                                        ),
                                                                    ),
                                                                    1658..1670,
                                                                ),
                                                            ],
                                                        ),
                                                        1648..1676,
                                                    ),
                                                ),
                                                1641..1676,
                                            ),
                                        ),
                                        1641..1676,
                                    ),
                                ],
                            ),
                            1601..1676,
                        ),
                    ),
                    1601..1676,
                ),
                (
                    Return(
                        (
                            "return",
                            1681..1687,
                        ),
                        Some(
                            (
                                Boolean(
                                    (
                                        true,
                                        1688..1692,
                                    ),
                                ),
                                1688..1692,
                            ),
                        ),
                    ),
                    1681..1692,
                ),
            ],
        ),
        1555..1694,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Creates a prompt and returns the value.",
                        ),
                        1696..1740,
                    ),
                ),
                1696..1740,
            ),
        ),
        1696..1740,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1740..1743,
            ),
            (
                "fun",
                1744..1747,
            ),
            (
                "input_prompt",
                1748..1760,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1761..1761,
                        ),
                        (
                            "prompt",
                            1761..1767,
                        ),
                        (
                            Text,
                            1769..1773,
                        ),
                    ),
                    1761..1773,
                ),
            ],
            Some(
                (
                    Text,
                    1776..1780,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Trust,
                                        1787..1792,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1793..1794,
                                    ),
                                    (
                                        Text(
                                            "read -p \"",
                                        ),
                                        1794..1804,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        1804..1806,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        1807..1813,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "prompt",
                                                                1814..1820,
                                                            ),
                                                        ),
                                                        1814..1820,
                                                    ),
                                                ),
                                                1814..1820,
                                            ),
                                        ),
                                        1806..1821,
                                    ),
                                    (
                                        Text(
                                            "\" ",
                                        ),
                                        1821..1823,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        1823..1824,
                                    ),
                                ],
                                [],
                            ),
                            1787..1824,
                        ),
                    ),
                    1787..1824,
                ),
                (
                    Return(
                        (
                            "return",
                            1829..1835,
                        ),
                        Some(
                            (
                                Command(
                                    [
                                        (
                                            Trust,
                                            1836..1841,
                                        ),
                                    ],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1842..1843,
                                        ),
                                        (
                                            Text(
                                                "echo ",
                                            ),
                                            1843..1849,
                                        ),
                                        (
                                            Text(
                                                "\\$",
                                            ),
                                            1849..1851,
                                        ),
                                        (
                                            Text(
                                                "REPLY ",
                                            ),
                                            1851..1857,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            1857..1858,
                                        ),
                                    ],
                                    [],
                                ),
                                1836..1858,
                            ),
                        ),
                    ),
                    1829..1858,
                ),
            ],
        ),
        1740..1860,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Creates a prompt, hides any user input and returns the value.",
                        ),
                        1862..1928,
                    ),
                ),
                1862..1928,
            ),
        ),
        1862..1928,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                1928..1931,
            ),
            (
                "fun",
                1932..1935,
            ),
            (
                "input_hidden",
                1936..1948,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            1949..1949,
                        ),
                        (
                            "prompt",
                            1949..1955,
                        ),
                        (
                            Text,
                            1957..1961,
                        ),
                    ),
                    1949..1961,
                ),
            ],
            Some(
                (
                    Text,
                    1964..1968,
                ),
            ),
            [
                (
                    Block(
                        (
                            Block(
                                [
                                    (
                                        Trust,
                                        1975..1980,
                                    ),
                                ],
                                [
                                    (
                                        Expression(
                                            (
                                                Command(
                                                    [],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            1991..1992,
                                                        ),
                                                        (
                                                            Text(
                                                                "read -s -p \"",
                                                            ),
                                                            1992..2005,
                                                        ),
                                                        (
                                                            Text(
                                                                "\\$",
                                                            ),
                                                            2005..2007,
                                                        ),
                                                        (
                                                            Expression(
                                                                (
                                                                    Nameof(
                                                                        (
                                                                            "nameof",
                                                                            2008..2014,
                                                                        ),
                                                                        (
                                                                            Var(
                                                                                (
                                                                                    "prompt",
                                                                                    2015..2021,
                                                                                ),
                                                                            ),
                                                                            2015..2021,
                                                                        ),
                                                                    ),
                                                                    2015..2021,
                                                                ),
                                                            ),
                                                            2007..2022,
                                                        ),
                                                        (
                                                            Text(
                                                                "\" ",
                                                            ),
                                                            2022..2024,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2024..2025,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                1991..2025,
                                            ),
                                        ),
                                        1991..2025,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Command(
                                                    [],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2034..2035,
                                                        ),
                                                        (
                                                            Text(
                                                                "echo \"\" >&2 ",
                                                            ),
                                                            2035..2048,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2048..2049,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                2034..2049,
                                            ),
                                        ),
                                        2034..2049,
                                    ),
                                    (
                                        Return(
                                            (
                                                "return",
                                                2058..2064,
                                            ),
                                            Some(
                                                (
                                                    Command(
                                                        [],
                                                        [
                                                            (
                                                                Text(
                                                                    "$",
                                                                ),
                                                                2065..2066,
                                                            ),
                                                            (
                                                                Text(
                                                                    "echo ",
                                                                ),
                                                                2066..2072,
                                                            ),
                                                            (
                                                                Text(
                                                                    "\\$",
                                                                ),
                                                                2072..2074,
                                                            ),
                                                            (
                                                                Text(
                                                                    "REPLY ",
                                                                ),
                                                                2074..2080,
                                                            ),
                                                            (
                                                                Text(
                                                                    "$",
                                                                ),
                                                                2080..2081,
                                                            ),
                                                        ],
                                                        [],
                                                    ),
                                                    2065..2081,
                                                ),
                                            ),
                                        ),
                                        2058..2081,
                                    ),
                                ],
                            ),
                            1975..2087,
                        ),
                    ),
                    1975..2087,
                ),
            ],
        ),
        1928..2089,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Creates a confirm prompt (Yes/No), and returns true if the choice is Yes.",
                        ),
                        2091..2169,
                    ),
                ),
                2091..2169,
            ),
        ),
        2091..2169,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "",
                        ),
                        2169..2173,
                    ),
                ),
                2169..2173,
            ),
        ),
        2169..2173,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "\"No\" is the default choice, set default_yes to true for \"Yes\" as default choice.",
                        ),
                        2173..2258,
                    ),
                ),
                2173..2258,
            ),
        ),
        2173..2258,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2258..2261,
            ),
            (
                "fun",
                2262..2265,
            ),
            (
                "input_confirm",
                2266..2279,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            2280..2280,
                        ),
                        (
                            "prompt",
                            2280..2286,
                        ),
                        (
                            Text,
                            2288..2292,
                        ),
                    ),
                    2280..2292,
                ),
                (
                    Optional(
                        (
                            false,
                            2294..2293,
                        ),
                        (
                            "default_yes",
                            2294..2305,
                        ),
                        Some(
                            (
                                Bool,
                                2307..2311,
                            ),
                        ),
                        (
                            Boolean(
                                (
                                    false,
                                    2314..2319,
                                ),
                            ),
                            2314..2319,
                        ),
                    ),
                    2294..2319,
                ),
            ],
            Some(
                (
                    Bool,
                    2322..2326,
                ),
            ),
            [
                (
                    VariableInit(
                        (
                            "let",
                            2333..2336,
                        ),
                        (
                            "choice_default",
                            2337..2351,
                        ),
                        (
                            Expression(
                                (
                                    Ternary(
                                        (
                                            Var(
                                                (
                                                    "default_yes",
                                                    2354..2365,
                                                ),
                                            ),
                                            2354..2365,
                                        ),
                                        (
                                            "then",
                                            2366..2370,
                                        ),
                                        (
                                            Text(
                                                [
                                                    (
                                                        Text(
                                                            (
                                                                " [",
                                                                2372..2374,
                                                            ),
                                                        ),
                                                        2372..2374,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "\\x",
                                                                2374..2376,
                                                            ),
                                                        ),
                                                        2374..2376,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "1b[1mY/",
                                                                2376..2383,
                                                            ),
                                                        ),
                                                        2376..2383,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "\\x",
                                                                2383..2385,
                                                            ),
                                                        ),
                                                        2383..2385,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "1b[0mn]",
                                                                2385..2392,
                                                            ),
                                                        ),
                                                        2385..2392,
                                                    ),
                                                ],
                                            ),
                                            2371..2393,
                                        ),
                                        (
                                            "else",
                                            2394..2398,
                                        ),
                                        (
                                            Text(
                                                [
                                                    (
                                                        Text(
                                                            (
                                                                " [y/",
                                                                2400..2404,
                                                            ),
                                                        ),
                                                        2400..2404,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "\\x",
                                                                2404..2406,
                                                            ),
                                                        ),
                                                        2404..2406,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "1b[1mN",
                                                                2406..2412,
                                                            ),
                                                        ),
                                                        2406..2412,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "\\x",
                                                                2412..2414,
                                                            ),
                                                        ),
                                                        2412..2414,
                                                    ),
                                                    (
                                                        Text(
                                                            (
                                                                "1b[0m]",
                                                                2414..2420,
                                                            ),
                                                        ),
                                                        2414..2420,
                                                    ),
                                                ],
                                            ),
                                            2399..2421,
                                        ),
                                    ),
                                    2354..2421,
                                ),
                            ),
                            2354..2421,
                        ),
                    ),
                    2333..2421,
                ),
                (
                    Block(
                        (
                            Block(
                                [
                                    (
                                        Trust,
                                        2426..2431,
                                    ),
                                ],
                                [
                                    (
                                        Expression(
                                            (
                                                Command(
                                                    [],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2442..2443,
                                                        ),
                                                        (
                                                            Text(
                                                                "printf \"",
                                                            ),
                                                            2443..2452,
                                                        ),
                                                        (
                                                            Text(
                                                                "\\x",
                                                            ),
                                                            2452..2454,
                                                        ),
                                                        (
                                                            Text(
                                                                "1b[1m",
                                                            ),
                                                            2454..2459,
                                                        ),
                                                        (
                                                            Expression(
                                                                (
                                                                    Var(
                                                                        (
                                                                            "prompt",
                                                                            2460..2466,
                                                                        ),
                                                                    ),
                                                                    2460..2466,
                                                                ),
                                                            ),
                                                            2459..2467,
                                                        ),
                                                        (
                                                            Text(
                                                                "\\x",
                                                            ),
                                                            2467..2469,
                                                        ),
                                                        (
                                                            Text(
                                                                "1b[0m",
                                                            ),
                                                            2469..2474,
                                                        ),
                                                        (
                                                            Expression(
                                                                (
                                                                    Var(
                                                                        (
                                                                            "choice_default",
                                                                            2475..2489,
                                                                        ),
                                                                    ),
                                                                    2475..2489,
                                                                ),
                                                            ),
                                                            2474..2490,
                                                        ),
                                                        (
                                                            Text(
                                                                "\" ",
                                                            ),
                                                            2490..2492,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2492..2493,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                2442..2493,
                                            ),
                                        ),
                                        2442..2493,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Command(
                                                    [],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2502..2503,
                                                        ),
                                                        (
                                                            Text(
                                                                "read -s -n 1 ",
                                                            ),
                                                            2503..2517,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2517..2518,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                2502..2518,
                                            ),
                                        ),
                                        2502..2518,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Command(
                                                    [],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2527..2528,
                                                        ),
                                                        (
                                                            Text(
                                                                "printf \"",
                                                            ),
                                                            2528..2537,
                                                        ),
                                                        (
                                                            Text(
                                                                "\\n",
                                                            ),
                                                            2537..2539,
                                                        ),
                                                        (
                                                            Text(
                                                                "\" ",
                                                            ),
                                                            2539..2541,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2541..2542,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                2527..2542,
                                            ),
                                        ),
                                        2527..2542,
                                    ),
                                ],
                            ),
                            2426..2548,
                        ),
                    ),
                    2426..2548,
                ),
                (
                    VariableInit(
                        (
                            "let",
                            2553..2556,
                        ),
                        (
                            "result",
                            2557..2563,
                        ),
                        (
                            Expression(
                                (
                                    FunctionInvocation(
                                        [],
                                        (
                                            "lowercase",
                                            2566..2575,
                                        ),
                                        [
                                            (
                                                Command(
                                                    [
                                                        (
                                                            Trust,
                                                            2576..2581,
                                                        ),
                                                    ],
                                                    [
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2582..2583,
                                                        ),
                                                        (
                                                            Text(
                                                                "echo ",
                                                            ),
                                                            2583..2589,
                                                        ),
                                                        (
                                                            Text(
                                                                "\\$",
                                                            ),
                                                            2589..2591,
                                                        ),
                                                        (
                                                            Text(
                                                                "REPLY ",
                                                            ),
                                                            2591..2597,
                                                        ),
                                                        (
                                                            Text(
                                                                "$",
                                                            ),
                                                            2597..2598,
                                                        ),
                                                    ],
                                                    [],
                                                ),
                                                2576..2598,
                                            ),
                                        ],
                                        [],
                                    ),
                                    2566..2599,
                                ),
                            ),
                            2566..2599,
                        ),
                    ),
                    2553..2599,
                ),
                (
                    Return(
                        (
                            "return",
                            2604..2610,
                        ),
                        Some(
                            (
                                Or(
                                    (
                                        Eq(
                                            (
                                                Var(
                                                    (
                                                        "result",
                                                        2611..2617,
                                                    ),
                                                ),
                                                2611..2617,
                                            ),
                                            (
                                                Text(
                                                    [
                                                        (
                                                            Text(
                                                                (
                                                                    "y",
                                                                    2622..2623,
                                                                ),
                                                            ),
                                                            2622..2623,
                                                        ),
                                                    ],
                                                ),
                                                2621..2624,
                                            ),
                                        ),
                                        2611..2624,
                                    ),
                                    (
                                        "or",
                                        2625..2627,
                                    ),
                                    (
                                        Parentheses(
                                            (
                                                And(
                                                    (
                                                        Eq(
                                                            (
                                                                Var(
                                                                    (
                                                                        "result",
                                                                        2629..2635,
                                                                    ),
                                                                ),
                                                                2629..2635,
                                                            ),
                                                            (
                                                                Text(
                                                                    [],
                                                                ),
                                                                2639..2641,
                                                            ),
                                                        ),
                                                        2629..2641,
                                                    ),
                                                    (
                                                        "and",
                                                        2642..2645,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "default_yes",
                                                                2646..2657,
                                                            ),
                                                        ),
                                                        2646..2657,
                                                    ),
                                                ),
                                                2629..2657,
                                            ),
                                        ),
                                        2628..2658,
                                    ),
                                ),
                                2611..2658,
                            ),
                        ),
                    ),
                    2604..2658,
                ),
            ],
        ),
        2258..2660,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Checks if the command has failed.",
                        ),
                        2662..2700,
                    ),
                ),
                2662..2700,
            ),
        ),
        2662..2700,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2700..2703,
            ),
            (
                "fun",
                2704..2707,
            ),
            (
                "has_failed",
                2708..2718,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            2719..2719,
                        ),
                        (
                            "command",
                            2719..2726,
                        ),
                        (
                            Text,
                            2728..2732,
                        ),
                    ),
                    2719..2732,
                ),
            ],
            Some(
                (
                    Bool,
                    2735..2739,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Trust,
                                        2746..2751,
                                    ),
                                    (
                                        Silent,
                                        2752..2758,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2759..2760,
                                    ),
                                    (
                                        Text(
                                            "eval ",
                                        ),
                                        2760..2766,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "command",
                                                        2767..2774,
                                                    ),
                                                ),
                                                2767..2774,
                                            ),
                                        ),
                                        2766..2775,
                                    ),
                                    (
                                        Text(
                                            " ",
                                        ),
                                        2775..2776,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        2776..2777,
                                    ),
                                ],
                                [],
                            ),
                            2746..2777,
                        ),
                    ),
                    2746..2777,
                ),
                (
                    Return(
                        (
                            "return",
                            2782..2788,
                        ),
                        Some(
                            (
                                Neq(
                                    (
                                        Status,
                                        2789..2795,
                                    ),
                                    (
                                        Int(
                                            (
                                                0,
                                                2799..2800,
                                            ),
                                        ),
                                        2799..2800,
                                    ),
                                ),
                                2789..2800,
                            ),
                        ),
                    ),
                    2782..2800,
                ),
            ],
        ),
        2700..2802,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Checks if the script is running with a user with root permission.",
                        ),
                        2804..2874,
                    ),
                ),
                2804..2874,
            ),
        ),
        2804..2874,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                2874..2877,
            ),
            (
                "fun",
                2878..2881,
            ),
            (
                "is_root",
                2882..2889,
            ),
            [],
            Some(
                (
                    Bool,
                    2893..2897,
                ),
            ),
            [
                (
                    IfCondition(
                        (
                            "if",
                            2904..2906,
                        ),
                        (
                            IfCondition(
                                (
                                    Eq(
                                        (
                                            Command(
                                                [
                                                    (
                                                        Trust,
                                                        2907..2912,
                                                    ),
                                                ],
                                                [
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        2913..2914,
                                                    ),
                                                    (
                                                        Text(
                                                            "id -u ",
                                                        ),
                                                        2914..2921,
                                                    ),
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        2921..2922,
                                                    ),
                                                ],
                                                [],
                                            ),
                                            2907..2922,
                                        ),
                                        (
                                            Text(
                                                [
                                                    (
                                                        Text(
                                                            (
                                                                "0",
                                                                2927..2928,
                                                            ),
                                                        ),
                                                        2927..2928,
                                                    ),
                                                ],
                                            ),
                                            2926..2929,
                                        ),
                                    ),
                                    2907..2929,
                                ),
                                (
                                    Block(
                                        [],
                                        [
                                            (
                                                Return(
                                                    (
                                                        "return",
                                                        2940..2946,
                                                    ),
                                                    Some(
                                                        (
                                                            Boolean(
                                                                (
                                                                    true,
                                                                    2947..2951,
                                                                ),
                                                            ),
                                                            2947..2951,
                                                        ),
                                                    ),
                                                ),
                                                2940..2951,
                                            ),
                                        ],
                                    ),
                                    2930..2957,
                                ),
                            ),
                            2907..2957,
                        ),
                        [],
                        None,
                    ),
                    2904..2957,
                ),
                (
                    Return(
                        (
                            "return",
                            2963..2969,
                        ),
                        Some(
                            (
                                Boolean(
                                    (
                                        false,
                                        2970..2975,
                                    ),
                                ),
                                2970..2975,
                            ),
                        ),
                    ),
                    2963..2975,
                ),
            ],
        ),
        2874..2977,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "`printf` the text following the arguments.",
                        ),
                        2979..3026,
                    ),
                ),
                2979..3026,
            ),
        ),
        2979..3026,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3026..3029,
            ),
            (
                "fun",
                3030..3033,
            ),
            (
                "printf",
                3034..3040,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3041..3041,
                        ),
                        (
                            "format",
                            3041..3047,
                        ),
                        (
                            Text,
                            3049..3053,
                        ),
                    ),
                    3041..3053,
                ),
                (
                    Optional(
                        (
                            false,
                            3055..3054,
                        ),
                        (
                            "args",
                            3055..3059,
                        ),
                        Some(
                            (
                                [Text],
                                3061..3067,
                            ),
                        ),
                        (
                            Array(
                                [
                                    (
                                        Text(
                                            [],
                                        ),
                                        3071..3073,
                                    ),
                                ],
                            ),
                            3070..3074,
                        ),
                    ),
                    3055..3074,
                ),
            ],
            Some(
                (
                    Null,
                    3077..3081,
                ),
            ),
            [
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Trust,
                                        3088..3093,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        3094..3095,
                                    ),
                                    (
                                        Text(
                                            "",
                                        ),
                                        3095..3096,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        3097..3103,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "args",
                                                                3104..3108,
                                                            ),
                                                        ),
                                                        3104..3108,
                                                    ),
                                                ),
                                                3104..3108,
                                            ),
                                        ),
                                        3096..3109,
                                    ),
                                    (
                                        Text(
                                            "=(\"",
                                        ),
                                        3109..3112,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Var(
                                                    (
                                                        "format",
                                                        3113..3119,
                                                    ),
                                                ),
                                                3113..3119,
                                            ),
                                        ),
                                        3112..3120,
                                    ),
                                    (
                                        Text(
                                            "\" \"",
                                        ),
                                        3120..3123,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        3123..3125,
                                    ),
                                    (
                                        Text(
                                            "\\{",
                                        ),
                                        3125..3127,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        3128..3134,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "args",
                                                                3135..3139,
                                                            ),
                                                        ),
                                                        3135..3139,
                                                    ),
                                                ),
                                                3135..3139,
                                            ),
                                        ),
                                        3127..3140,
                                    ),
                                    (
                                        Text(
                                            "[@]}\") ",
                                        ),
                                        3140..3147,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        3147..3148,
                                    ),
                                ],
                                [],
                            ),
                            3088..3148,
                        ),
                    ),
                    3088..3148,
                ),
                (
                    Expression(
                        (
                            Command(
                                [
                                    (
                                        Trust,
                                        3153..3158,
                                    ),
                                ],
                                [
                                    (
                                        Text(
                                            "$",
                                        ),
                                        3159..3160,
                                    ),
                                    (
                                        Text(
                                            "printf \"",
                                        ),
                                        3160..3169,
                                    ),
                                    (
                                        Text(
                                            "\\$",
                                        ),
                                        3169..3171,
                                    ),
                                    (
                                        Text(
                                            "\\{",
                                        ),
                                        3171..3173,
                                    ),
                                    (
                                        Expression(
                                            (
                                                Nameof(
                                                    (
                                                        "nameof",
                                                        3174..3180,
                                                    ),
                                                    (
                                                        Var(
                                                            (
                                                                "args",
                                                                3181..3185,
                                                            ),
                                                        ),
                                                        3181..3185,
                                                    ),
                                                ),
                                                3181..3185,
                                            ),
                                        ),
                                        3173..3186,
                                    ),
                                    (
                                        Text(
                                            "[@]}\" ",
                                        ),
                                        3186..3192,
                                    ),
                                    (
                                        Text(
                                            "$",
                                        ),
                                        3192..3193,
                                    ),
                                ],
                                [],
                            ),
                            3153..3193,
                        ),
                    ),
                    3153..3193,
                ),
            ],
        ),
        3026..3195,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Escapes the text to be used with `printf`.",
                        ),
                        3197..3244,
                    ),
                ),
                3197..3244,
            ),
        ),
        3197..3244,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3244..3247,
            ),
            (
                "fun",
                3248..3251,
            ),
            (
                "escaped",
                3252..3259,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3260..3260,
                        ),
                        (
                            "text",
                            3260..3264,
                        ),
                        (
                            Text,
                            3266..3270,
                        ),
                    ),
                    3260..3270,
                ),
            ],
            Some(
                (
                    Text,
                    3273..3277,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3284..3290,
                        ),
                        Some(
                            (
                                Command(
                                    [
                                        (
                                            Trust,
                                            3291..3296,
                                        ),
                                    ],
                                    [
                                        (
                                            Text(
                                                "$",
                                            ),
                                            3297..3298,
                                        ),
                                        (
                                            Text(
                                                "echo ",
                                            ),
                                            3298..3304,
                                        ),
                                        (
                                            Text(
                                                "\\$",
                                            ),
                                            3304..3306,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Nameof(
                                                        (
                                                            "nameof",
                                                            3307..3313,
                                                        ),
                                                        (
                                                            Var(
                                                                (
                                                                    "text",
                                                                    3314..3318,
                                                                ),
                                                            ),
                                                            3314..3318,
                                                        ),
                                                    ),
                                                    3314..3318,
                                                ),
                                            ),
                                            3306..3319,
                                        ),
                                        (
                                            Text(
                                                " | sed -e 's/",
                                            ),
                                            3319..3332,
                                        ),
                                        (
                                            Text(
                                                "\\\\",
                                            ),
                                            3332..3334,
                                        ),
                                        (
                                            Text(
                                                "\\\\",
                                            ),
                                            3334..3336,
                                        ),
                                        (
                                            Text(
                                                "/",
                                            ),
                                            3336..3337,
                                        ),
                                        (
                                            Text(
                                                "\\\\",
                                            ),
                                            3337..3339,
                                        ),
                                        (
                                            Text(
                                                "\\\\",
                                            ),
                                            3339..3341,
                                        ),
                                        (
                                            Text(
                                                "\\\\",
                                            ),
                                            3341..3343,
                                        ),
                                        (
                                            Text(
                                                "\\\\",
                                            ),
                                            3343..3345,
                                        ),
                                        (
                                            Text(
                                                "/g' -e \"s/%/%%/g\" ",
                                            ),
                                            3345..3363,
                                        ),
                                        (
                                            Text(
                                                "$",
                                            ),
                                            3363..3364,
                                        ),
                                    ],
                                    [],
                                ),
                                3291..3364,
                            ),
                        ),
                    ),
                    3284..3364,
                ),
            ],
        ),
        3244..3366,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Prepares a text with formatting options for `printf`.",
                        ),
                        3368..3426,
                    ),
                ),
                3368..3426,
            ),
        ),
        3368..3426,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3426..3429,
            ),
            (
                "fun",
                3430..3433,
            ),
            (
                "styled",
                3434..3440,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3441..3441,
                        ),
                        (
                            "message",
                            3441..3448,
                        ),
                        (
                            Text,
                            3450..3454,
                        ),
                    ),
                    3441..3454,
                ),
                (
                    Typed(
                        (
                            false,
                            3456..3455,
                        ),
                        (
                            "style",
                            3456..3461,
                        ),
                        (
                            Int,
                            3463..3466,
                        ),
                    ),
                    3456..3466,
                ),
                (
                    Typed(
                        (
                            false,
                            3468..3467,
                        ),
                        (
                            "fg",
                            3468..3470,
                        ),
                        (
                            Int,
                            3472..3475,
                        ),
                    ),
                    3468..3475,
                ),
                (
                    Typed(
                        (
                            false,
                            3477..3476,
                        ),
                        (
                            "bg",
                            3477..3479,
                        ),
                        (
                            Int,
                            3481..3484,
                        ),
                    ),
                    3477..3484,
                ),
            ],
            Some(
                (
                    Text,
                    3487..3491,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3498..3504,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Text(
                                                (
                                                    "\\x",
                                                    3506..3508,
                                                ),
                                            ),
                                            3506..3508,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1b[",
                                                    3508..3511,
                                                ),
                                            ),
                                            3508..3511,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Var(
                                                        (
                                                            "style",
                                                            3512..3517,
                                                        ),
                                                    ),
                                                    3512..3517,
                                                ),
                                            ),
                                            3511..3518,
                                        ),
                                        (
                                            Text(
                                                (
                                                    ";",
                                                    3518..3519,
                                                ),
                                            ),
                                            3518..3519,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Var(
                                                        (
                                                            "fg",
                                                            3520..3522,
                                                        ),
                                                    ),
                                                    3520..3522,
                                                ),
                                            ),
                                            3519..3523,
                                        ),
                                        (
                                            Text(
                                                (
                                                    ";",
                                                    3523..3524,
                                                ),
                                            ),
                                            3523..3524,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    Var(
                                                        (
                                                            "bg",
                                                            3525..3527,
                                                        ),
                                                    ),
                                                    3525..3527,
                                                ),
                                            ),
                                            3524..3528,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "m",
                                                    3528..3529,
                                                ),
                                            ),
                                            3528..3529,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    FunctionInvocation(
                                                        [],
                                                        (
                                                            "escaped",
                                                            3530..3537,
                                                        ),
                                                        [
                                                            (
                                                                Var(
                                                                    (
                                                                        "message",
                                                                        3538..3545,
                                                                    ),
                                                                ),
                                                                3538..3545,
                                                            ),
                                                        ],
                                                        [],
                                                    ),
                                                    3530..3546,
                                                ),
                                            ),
                                            3529..3547,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "\\x",
                                                    3547..3549,
                                                ),
                                            ),
                                            3547..3549,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1b[0m",
                                                    3549..3554,
                                                ),
                                            ),
                                            3549..3554,
                                        ),
                                    ],
                                ),
                                3505..3555,
                            ),
                        ),
                    ),
                    3498..3555,
                ),
            ],
        ),
        3426..3557,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Returns a text as bold.",
                        ),
                        3559..3587,
                    ),
                ),
                3559..3587,
            ),
        ),
        3559..3587,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3587..3590,
            ),
            (
                "fun",
                3591..3594,
            ),
            (
                "bold",
                3595..3599,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3600..3600,
                        ),
                        (
                            "message",
                            3600..3607,
                        ),
                        (
                            Text,
                            3609..3613,
                        ),
                    ),
                    3600..3613,
                ),
            ],
            Some(
                (
                    Text,
                    3616..3620,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3627..3633,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Text(
                                                (
                                                    "\\x",
                                                    3635..3637,
                                                ),
                                            ),
                                            3635..3637,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1b[1m",
                                                    3637..3642,
                                                ),
                                            ),
                                            3637..3642,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    FunctionInvocation(
                                                        [],
                                                        (
                                                            "escaped",
                                                            3643..3650,
                                                        ),
                                                        [
                                                            (
                                                                Var(
                                                                    (
                                                                        "message",
                                                                        3651..3658,
                                                                    ),
                                                                ),
                                                                3651..3658,
                                                            ),
                                                        ],
                                                        [],
                                                    ),
                                                    3643..3659,
                                                ),
                                            ),
                                            3642..3660,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "\\x",
                                                    3660..3662,
                                                ),
                                            ),
                                            3660..3662,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1b[0m",
                                                    3662..3667,
                                                ),
                                            ),
                                            3662..3667,
                                        ),
                                    ],
                                ),
                                3634..3668,
                            ),
                        ),
                    ),
                    3627..3668,
                ),
            ],
        ),
        3587..3670,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Returns a text as italic.",
                        ),
                        3672..3702,
                    ),
                ),
                3672..3702,
            ),
        ),
        3672..3702,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3702..3705,
            ),
            (
                "fun",
                3706..3709,
            ),
            (
                "italic",
                3710..3716,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3717..3717,
                        ),
                        (
                            "message",
                            3717..3724,
                        ),
                        (
                            Text,
                            3726..3730,
                        ),
                    ),
                    3717..3730,
                ),
            ],
            Some(
                (
                    Text,
                    3733..3737,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3744..3750,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Text(
                                                (
                                                    "\\x",
                                                    3752..3754,
                                                ),
                                            ),
                                            3752..3754,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1b[3m",
                                                    3754..3759,
                                                ),
                                            ),
                                            3754..3759,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    FunctionInvocation(
                                                        [],
                                                        (
                                                            "escaped",
                                                            3760..3767,
                                                        ),
                                                        [
                                                            (
                                                                Var(
                                                                    (
                                                                        "message",
                                                                        3768..3775,
                                                                    ),
                                                                ),
                                                                3768..3775,
                                                            ),
                                                        ],
                                                        [],
                                                    ),
                                                    3760..3776,
                                                ),
                                            ),
                                            3759..3777,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "\\x",
                                                    3777..3779,
                                                ),
                                            ),
                                            3777..3779,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1b[0m",
                                                    3779..3784,
                                                ),
                                            ),
                                            3779..3784,
                                        ),
                                    ],
                                ),
                                3751..3785,
                            ),
                        ),
                    ),
                    3744..3785,
                ),
            ],
        ),
        3702..3787,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Returns a text as underlined.",
                        ),
                        3789..3823,
                    ),
                ),
                3789..3823,
            ),
        ),
        3789..3823,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3823..3826,
            ),
            (
                "fun",
                3827..3830,
            ),
            (
                "underlined",
                3831..3841,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3842..3842,
                        ),
                        (
                            "message",
                            3842..3849,
                        ),
                        (
                            Text,
                            3851..3855,
                        ),
                    ),
                    3842..3855,
                ),
            ],
            Some(
                (
                    Text,
                    3858..3862,
                ),
            ),
            [
                (
                    Return(
                        (
                            "return",
                            3869..3875,
                        ),
                        Some(
                            (
                                Text(
                                    [
                                        (
                                            Text(
                                                (
                                                    "\\x",
                                                    3877..3879,
                                                ),
                                            ),
                                            3877..3879,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1b[4m",
                                                    3879..3884,
                                                ),
                                            ),
                                            3879..3884,
                                        ),
                                        (
                                            Expression(
                                                (
                                                    FunctionInvocation(
                                                        [],
                                                        (
                                                            "escaped",
                                                            3885..3892,
                                                        ),
                                                        [
                                                            (
                                                                Var(
                                                                    (
                                                                        "message",
                                                                        3893..3900,
                                                                    ),
                                                                ),
                                                                3893..3900,
                                                            ),
                                                        ],
                                                        [],
                                                    ),
                                                    3885..3901,
                                                ),
                                            ),
                                            3884..3902,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "\\x",
                                                    3902..3904,
                                                ),
                                            ),
                                            3902..3904,
                                        ),
                                        (
                                            Text(
                                                (
                                                    "1b[0m",
                                                    3904..3909,
                                                ),
                                            ),
                                            3904..3909,
                                        ),
                                    ],
                                ),
                                3876..3910,
                            ),
                        ),
                    ),
                    3869..3910,
                ),
            ],
        ),
        3823..3912,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Prints a text with a specified color.",
                        ),
                        3914..3956,
                    ),
                ),
                3914..3956,
            ),
        ),
        3914..3956,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                3956..3959,
            ),
            (
                "fun",
                3960..3963,
            ),
            (
                "echo_colored",
                3964..3976,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            3977..3977,
                        ),
                        (
                            "message",
                            3977..3984,
                        ),
                        (
                            Text,
                            3986..3990,
                        ),
                    ),
                    3977..3990,
                ),
                (
                    Typed(
                        (
                            false,
                            3992..3991,
                        ),
                        (
                            "color",
                            3992..3997,
                        ),
                        (
                            Int,
                            3999..4002,
                        ),
                    ),
                    3992..4002,
                ),
            ],
            Some(
                (
                    Null,
                    4005..4009,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    4016..4022,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4024..4026,
                                                        ),
                                                    ),
                                                    4024..4026,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[",
                                                            4026..4029,
                                                        ),
                                                    ),
                                                    4026..4029,
                                                ),
                                                (
                                                    Expression(
                                                        (
                                                            Cast(
                                                                (
                                                                    Var(
                                                                        (
                                                                            "color",
                                                                            4030..4035,
                                                                        ),
                                                                    ),
                                                                    4030..4035,
                                                                ),
                                                                (
                                                                    "as",
                                                                    4036..4038,
                                                                ),
                                                                (
                                                                    Text,
                                                                    4039..4043,
                                                                ),
                                                            ),
                                                            4030..4043,
                                                        ),
                                                    ),
                                                    4029..4044,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "m%s",
                                                            4044..4047,
                                                        ),
                                                    ),
                                                    4044..4047,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4047..4049,
                                                        ),
                                                    ),
                                                    4047..4049,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[0m",
                                                            4049..4054,
                                                        ),
                                                    ),
                                                    4049..4054,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\n",
                                                            4054..4056,
                                                        ),
                                                    ),
                                                    4054..4056,
                                                ),
                                            ],
                                        ),
                                        4023..4057,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            4060..4067,
                                                        ),
                                                    ),
                                                    4060..4067,
                                                ),
                                            ],
                                        ),
                                        4059..4068,
                                    ),
                                ],
                                [],
                            ),
                            4016..4069,
                        ),
                    ),
                    4016..4069,
                ),
            ],
        ),
        3956..4071,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Prints a text as a info message.",
                        ),
                        4073..4110,
                    ),
                ),
                4073..4110,
            ),
        ),
        4073..4110,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                4110..4113,
            ),
            (
                "fun",
                4114..4117,
            ),
            (
                "echo_info",
                4118..4127,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            4128..4128,
                        ),
                        (
                            "message",
                            4128..4135,
                        ),
                        (
                            Text,
                            4137..4141,
                        ),
                    ),
                    4128..4141,
                ),
            ],
            Some(
                (
                    Null,
                    4144..4148,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    4155..4161,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4163..4165,
                                                        ),
                                                    ),
                                                    4163..4165,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[1;3;97;44m%s",
                                                            4165..4180,
                                                        ),
                                                    ),
                                                    4165..4180,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4180..4182,
                                                        ),
                                                    ),
                                                    4180..4182,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[0m",
                                                            4182..4187,
                                                        ),
                                                    ),
                                                    4182..4187,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\n",
                                                            4187..4189,
                                                        ),
                                                    ),
                                                    4187..4189,
                                                ),
                                            ],
                                        ),
                                        4162..4190,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            4193..4200,
                                                        ),
                                                    ),
                                                    4193..4200,
                                                ),
                                            ],
                                        ),
                                        4192..4201,
                                    ),
                                ],
                                [],
                            ),
                            4155..4202,
                        ),
                    ),
                    4155..4202,
                ),
            ],
        ),
        4110..4204,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Prints a text as a success message.",
                        ),
                        4206..4246,
                    ),
                ),
                4206..4246,
            ),
        ),
        4206..4246,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                4246..4249,
            ),
            (
                "fun",
                4250..4253,
            ),
            (
                "echo_success",
                4254..4266,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            4267..4267,
                        ),
                        (
                            "message",
                            4267..4274,
                        ),
                        (
                            Text,
                            4276..4280,
                        ),
                    ),
                    4267..4280,
                ),
            ],
            Some(
                (
                    Null,
                    4283..4287,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    4294..4300,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4302..4304,
                                                        ),
                                                    ),
                                                    4302..4304,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[1;3;97;42m%s",
                                                            4304..4319,
                                                        ),
                                                    ),
                                                    4304..4319,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4319..4321,
                                                        ),
                                                    ),
                                                    4319..4321,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[0m",
                                                            4321..4326,
                                                        ),
                                                    ),
                                                    4321..4326,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\n",
                                                            4326..4328,
                                                        ),
                                                    ),
                                                    4326..4328,
                                                ),
                                            ],
                                        ),
                                        4301..4329,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            4332..4339,
                                                        ),
                                                    ),
                                                    4332..4339,
                                                ),
                                            ],
                                        ),
                                        4331..4340,
                                    ),
                                ],
                                [],
                            ),
                            4294..4341,
                        ),
                    ),
                    4294..4341,
                ),
            ],
        ),
        4246..4343,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Prints a text as a warning message.",
                        ),
                        4345..4385,
                    ),
                ),
                4345..4385,
            ),
        ),
        4345..4385,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                4385..4388,
            ),
            (
                "fun",
                4389..4392,
            ),
            (
                "echo_warning",
                4393..4405,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            4406..4406,
                        ),
                        (
                            "message",
                            4406..4413,
                        ),
                        (
                            Text,
                            4415..4419,
                        ),
                    ),
                    4406..4419,
                ),
            ],
            Some(
                (
                    Null,
                    4422..4426,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    4433..4439,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4441..4443,
                                                        ),
                                                    ),
                                                    4441..4443,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[1;3;97;43m%s",
                                                            4443..4458,
                                                        ),
                                                    ),
                                                    4443..4458,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4458..4460,
                                                        ),
                                                    ),
                                                    4458..4460,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[0m",
                                                            4460..4465,
                                                        ),
                                                    ),
                                                    4460..4465,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\n",
                                                            4465..4467,
                                                        ),
                                                    ),
                                                    4465..4467,
                                                ),
                                            ],
                                        ),
                                        4440..4468,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            4471..4478,
                                                        ),
                                                    ),
                                                    4471..4478,
                                                ),
                                            ],
                                        ),
                                        4470..4479,
                                    ),
                                ],
                                [],
                            ),
                            4433..4480,
                        ),
                    ),
                    4433..4480,
                ),
            ],
        ),
        4385..4482,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Prints a text as a error and exits if the status code is greater than 0.",
                        ),
                        4484..4561,
                    ),
                ),
                4484..4561,
            ),
        ),
        4484..4561,
    ),
    (
        FunctionDefinition(
            [],
            (
                true,
                4561..4564,
            ),
            (
                "fun",
                4565..4568,
            ),
            (
                "echo_error",
                4569..4579,
            ),
            [
                (
                    Typed(
                        (
                            false,
                            4580..4580,
                        ),
                        (
                            "message",
                            4580..4587,
                        ),
                        (
                            Text,
                            4589..4593,
                        ),
                    ),
                    4580..4593,
                ),
                (
                    Optional(
                        (
                            false,
                            4595..4594,
                        ),
                        (
                            "exit_code",
                            4595..4604,
                        ),
                        Some(
                            (
                                Int,
                                4606..4609,
                            ),
                        ),
                        (
                            Int(
                                (
                                    1,
                                    4612..4613,
                                ),
                            ),
                            4612..4613,
                        ),
                    ),
                    4595..4613,
                ),
            ],
            Some(
                (
                    Null,
                    4616..4620,
                ),
            ),
            [
                (
                    Expression(
                        (
                            FunctionInvocation(
                                [],
                                (
                                    "printf",
                                    4627..4633,
                                ),
                                [
                                    (
                                        Text(
                                            [
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4635..4637,
                                                        ),
                                                    ),
                                                    4635..4637,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[1;3;97;41m%s",
                                                            4637..4652,
                                                        ),
                                                    ),
                                                    4637..4652,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\x",
                                                            4652..4654,
                                                        ),
                                                    ),
                                                    4652..4654,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "1b[0m",
                                                            4654..4659,
                                                        ),
                                                    ),
                                                    4654..4659,
                                                ),
                                                (
                                                    Text(
                                                        (
                                                            "\\n",
                                                            4659..4661,
                                                        ),
                                                    ),
                                                    4659..4661,
                                                ),
                                            ],
                                        ),
                                        4634..4662,
                                    ),
                                    (
                                        Array(
                                            [
                                                (
                                                    Var(
                                                        (
                                                            "message",
                                                            4665..4672,
                                                        ),
                                                    ),
                                                    4665..4672,
                                                ),
                                            ],
                                        ),
                                        4664..4673,
                                    ),
                                ],
                                [],
                            ),
                            4627..4674,
                        ),
                    ),
                    4627..4674,
                ),
                (
                    IfCondition(
                        (
                            "if",
                            4679..4681,
                        ),
                        (
                            IfCondition(
                                (
                                    Gt(
                                        (
                                            Var(
                                                (
                                                    "exit_code",
                                                    4682..4691,
                                                ),
                                            ),
                                            4682..4691,
                                        ),
                                        (
                                            Int(
                                                (
                                                    0,
                                                    4694..4695,
                                                ),
                                            ),
                                            4694..4695,
                                        ),
                                    ),
                                    4682..4695,
                                ),
                                (
                                    Singleline(
                                        (
                                            Expression(
                                                (
                                                    Exit(
                                                        (
                                                            "exit",
                                                            4698..4702,
                                                        ),
                                                        Some(
                                                            (
                                                                Parentheses(
                                                                    (
                                                                        Var(
                                                                            (
                                                                                "exit_code",
                                                                                4703..4712,
                                                                            ),
                                                                        ),
                                                                        4703..4712,
                                                                    ),
                                                                ),
                                                                4702..4713,
                                                            ),
                                                        ),
                                                    ),
                                                    4698..4713,
                                                ),
                                            ),
                                            4698..4713,
                                        ),
                                    ),
                                    4696..4713,
                                ),
                            ),
                            4682..4713,
                        ),
                        [],
                        None,
                    ),
                    4679..4713,
                ),
            ],
        ),
        4561..4715,
    ),
    (
        Statement(
            (
                Comment(
                    (
                        DocString(
                            "Returns current bash version with major, minor and patch components.",
                        ),
                        4717..4790,
                    ),
                ),
                4717..4790,
            ),
        ),
        4717..4790,
    ),
    (
        FunctionDefinition(
            [
                (
                    AllowAbsurdCast,
                    4790..4810,
                ),
            ],
            (
                true,
                4811..4814,
            ),
            (
                "fun",
                4815..4818,
            ),
            (
                "bash_version",
                4819..4831,
            ),
            [],
            Some(
                (
                    [Int],
                    4835..4840,
                ),
            ),
            [
                (
                    VariableInit(
                        (
                            "let",
                            4847..4850,
                        ),
                        (
                            "major",
                            4851..4856,
                        ),
                        (
                            Expression(
                                (
                                    Cast(
                                        (
                                            Command(
                                                [
                                                    (
                                                        Trust,
                                                        4859..4864,
                                                    ),
                                                ],
                                                [
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        4865..4866,
                                                    ),
                                                    (
                                                        Text(
                                                            "echo \"",
                                                        ),
                                                        4866..4873,
                                                    ),
                                                    (
                                                        Text(
                                                            "\\$",
                                                        ),
                                                        4873..4875,
                                                    ),
                                                    (
                                                        Text(
                                                            "\\{",
                                                        ),
                                                        4875..4877,
                                                    ),
                                                    (
                                                        Text(
                                                            "BASH_VERSINFO[0]}\" ",
                                                        ),
                                                        4877..4896,
                                                    ),
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        4896..4897,
                                                    ),
                                                ],
                                                [],
                                            ),
                                            4859..4897,
                                        ),
                                        (
                                            "as",
                                            4898..4900,
                                        ),
                                        (
                                            Int,
                                            4901..4904,
                                        ),
                                    ),
                                    4859..4904,
                                ),
                            ),
                            4859..4904,
                        ),
                    ),
                    4847..4904,
                ),
                (
                    VariableInit(
                        (
                            "let",
                            4909..4912,
                        ),
                        (
                            "minor",
                            4913..4918,
                        ),
                        (
                            Expression(
                                (
                                    Cast(
                                        (
                                            Command(
                                                [
                                                    (
                                                        Trust,
                                                        4921..4926,
                                                    ),
                                                ],
                                                [
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        4927..4928,
                                                    ),
                                                    (
                                                        Text(
                                                            "echo \"",
                                                        ),
                                                        4928..4935,
                                                    ),
                                                    (
                                                        Text(
                                                            "\\$",
                                                        ),
                                                        4935..4937,
                                                    ),
                                                    (
                                                        Text(
                                                            "\\{",
                                                        ),
                                                        4937..4939,
                                                    ),
                                                    (
                                                        Text(
                                                            "BASH_VERSINFO[1]}\" ",
                                                        ),
                                                        4939..4958,
                                                    ),
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        4958..4959,
                                                    ),
                                                ],
                                                [],
                                            ),
                                            4921..4959,
                                        ),
                                        (
                                            "as",
                                            4960..4962,
                                        ),
                                        (
                                            Int,
                                            4963..4966,
                                        ),
                                    ),
                                    4921..4966,
                                ),
                            ),
                            4921..4966,
                        ),
                    ),
                    4909..4966,
                ),
                (
                    VariableInit(
                        (
                            "let",
                            4971..4974,
                        ),
                        (
                            "patch",
                            4975..4980,
                        ),
                        (
                            Expression(
                                (
                                    Cast(
                                        (
                                            Command(
                                                [
                                                    (
                                                        Trust,
                                                        4983..4988,
                                                    ),
                                                ],
                                                [
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        4989..4990,
                                                    ),
                                                    (
                                                        Text(
                                                            "echo \"",
                                                        ),
                                                        4990..4997,
                                                    ),
                                                    (
                                                        Text(
                                                            "\\$",
                                                        ),
                                                        4997..4999,
                                                    ),
                                                    (
                                                        Text(
                                                            "\\{",
                                                        ),
                                                        4999..5001,
                                                    ),
                                                    (
                                                        Text(
                                                            "BASH_VERSINFO[2]}\" ",
                                                        ),
                                                        5001..5020,
                                                    ),
                                                    (
                                                        Text(
                                                            "$",
                                                        ),
                                                        5020..5021,
                                                    ),
                                                ],
                                                [],
                                            ),
                                            4983..5021,
                                        ),
                                        (
                                            "as",
                                            5022..5024,
                                        ),
                                        (
                                            Int,
                                            5025..5028,
                                        ),
                                    ),
                                    4983..5028,
                                ),
                            ),
                            4983..5028,
                        ),
                    ),
                    4971..5028,
                ),
                (
                    Return(
                        (
                            "return",
                            5033..5039,
                        ),
                        Some(
                            (
                                Array(
                                    [
                                        (
                                            Var(
                                                (
                                                    "major",
                                                    5041..5046,
                                                ),
                                            ),
                                            5041..5046,
                                        ),
                                        (
                                            Var(
                                                (
                                                    "minor",
                                                    5048..5053,
                                                ),
                                            ),
                                            5048..5053,
                                        ),
                                        (
                                            Var(
                                                (
                                                    "patch",
                                                    5055..5060,
                                                ),
                                            ),
                                            5055..5060,
                                        ),
                                    ],
                                ),
                                5040..5061,
                            ),
                        ),
                    ),
                    5033..5061,
                ),
            ],
        ),
        4790..5063,
    ),
]
